{"method_name": "tojavascript", "full_method_name": "tojavascript", "method_path": "../srcdata/Visualization/folium/folium/template.py", "method_code": "import json\nfrom typing import Union\nimport jinja2\nfrom branca.element import Element\nfrom folium.utilities import JsCode\nfrom folium.utilities import TypeJsonValue\nfrom folium.utilities import camelize\ndef tojavascript(obj: Union[str, JsCode, dict, list, Element]) ->str:\n    if isinstance(obj, JsCode):\n        return obj.js_code\n    elif isinstance(obj, Element):\n        return obj.get_name()\n    elif isinstance(obj, dict):\n        out = ['{\\n']\n        for key, value in obj.items():\n            out.append(f'  \"{camelize(key)}\": ')\n            out.append(tojavascript(value))\n            out.append(',\\n')\n        out.append('}')\n        return ''.join(out)\n    elif isinstance(obj, list):\n        out = ['[\\n']\n        for value in obj:\n            out.append(tojavascript(value))\n            out.append(',\\n')\n        out.append(']')\n        return ''.join(out)\n    else:\n        return _to_escaped_json(obj)", "test_code_list": [{"test_code": "from branca.element import Element\nfrom folium import JsCode\ndef test_tojavascript_with_jscode():\n    js_code = JsCode(\"console.log('Hello, World!')\")\n    assert tojavascript(js_code) == \"console.log('Hello, World!')\"\n\ntest_tojavascript_with_jscode()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_template.py"}, {"test_code": "from branca.element import Element\nfrom folium import JsCode\ndef test_tojavascript_with_element():\n    element = Element()\n    assert tojavascript(element) == element.get_name()\n\ntest_tojavascript_with_element()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_template.py"}], "instruction": "Functionality: The tojavascript function is designed to convert various data types into JavaScript-compatible strings. This function supports the transformation of strings, JsCode objects, dictionaries, lists, and Element objects into a format that can be directly interpreted by JavaScript. It ensures that the output string is properly formatted for JavaScript execution, handling nested structures and specific object types.\n\nInputs: \n1. obj: Union[str, JsCode, dict, list, Element]\n   - A variable that can be of type string, JsCode (custom JavaScript code), dictionary, list, or Element. The input represents the object to be converted to a JavaScript-compatible string.\n\nOutputs: \n1. str: A JavaScript-compatible string representation of the input object. This output will be formatted to be directly executable or usable in a JavaScript context, depending on the type of the input object.\n   - For a JsCode object, the output is the JavaScript code contained in the object.\n   - For an Element object, the output is the name of the Element.\n   - For a dictionary, the output is a JSON object format with keys transformed to camelCase.\n   - For a list, the output is a JSON array with each element converted using this function.\n   - For other types, the output is an escaped JSON string representation.", "method_code_mask": "import json\nfrom typing import Union\nimport jinja2\nfrom branca.element import Element\nfrom folium.utilities import JsCode\nfrom folium.utilities import TypeJsonValue\nfrom folium.utilities import camelize\n\n\ndef tojavascript(obj: Union[str, JsCode, dict, list, Element]) ->str: [MASK]\n"}
{"method_name": "tojavascript", "full_method_name": "tojavascript", "method_path": "../srcdata/Visualization/folium/folium/template.py", "method_code": "import json\nfrom typing import Union\nimport jinja2\nfrom branca.element import Element\nfrom folium.utilities import JsCode\nfrom folium.utilities import TypeJsonValue\nfrom folium.utilities import camelize\ndef _to_escaped_json(obj: TypeJsonValue) ->str:\n    return json.dumps(obj).replace('<', '\\\\u003c').replace('>', '\\\\u003e'\n        ).replace('&', '\\\\u0026').replace(\"'\", '\\\\u0027')\ndef tojavascript(obj: Union[str, JsCode, dict, list, Element]) ->str:\n    if isinstance(obj, JsCode):\n        return obj.js_code\n    elif isinstance(obj, Element):\n        return obj.get_name()\n    elif isinstance(obj, dict):\n        out = ['{\\n']\n        for key, value in obj.items():\n            out.append(f'  \"{camelize(key)}\": ')\n            out.append(tojavascript(value))\n            out.append(',\\n')\n        out.append('}')\n        return ''.join(out)\n    elif isinstance(obj, list):\n        out = ['[\\n']\n        for value in obj:\n            out.append(tojavascript(value))\n            out.append(',\\n')\n        out.append(']')\n        return ''.join(out)\n    else:\n        return _to_escaped_json(obj)", "test_code_list": [{"test_code": "from branca.element import Element\nfrom folium import JsCode\ndef test_tojavascript_with_dict():\n    dict_obj = {'key': 'value'}\n    assert tojavascript(dict_obj) == '{\\n  \"key\": \"value\",\\n}'\n\ntest_tojavascript_with_dict()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_template.py"}, {"test_code": "from branca.element import Element\nfrom folium import JsCode\ndef test_tojavascript_with_list():\n    list_obj = ['value1', 'value2']\n    assert tojavascript(list_obj) == '[\\n\"value1\",\\n\"value2\",\\n]'\n\ntest_tojavascript_with_list()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_template.py"}, {"test_code": "from branca.element import Element\nfrom folium import JsCode\ndef test_tojavascript_with_string():\n    assert tojavascript('Hello, World!') == _to_escaped_json('Hello, World!')\n\ntest_tojavascript_with_string()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_template.py"}, {"test_code": "from branca.element import Element\nfrom folium import JsCode\ndef test_tojavascript_with_combined_elements():\n    js_code = JsCode(\"console.log('Hello, World!')\")\n    element = Element()\n    combined_dict = {'key': 'value', 'list': ['value1', 'value2', element,\n        js_code], 'nested_dict': {'nested_key': 'nested_value'}}\n    result = tojavascript(combined_dict)\n    expected_lines = ['{', '  \"key\": \"value\",', '  \"list\": [', '\"value1\",',\n        '\"value2\",', element.get_name() + ',',\n        \"console.log('Hello, World!'),\", '],', '  \"nestedDict\": {',\n        '  \"nestedKey\": \"nested_value\",', '},', '}']\n    for result_line, expected_line in zip(result.splitlines(), expected_lines):\n        assert result_line == expected_line\n\ntest_tojavascript_with_combined_elements()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_template.py"}], "instruction": "Functionality: The tojavascript function is designed to convert various data types into a JavaScript-friendly string format that can be safely embedded in an HTML page. This includes handling of strings, JavaScript code objects (JsCode), custom elements (Element), dictionaries, lists, and any other JSON-serializable objects. The function ensures that all HTML special characters are properly escaped to prevent any potential rendering issues.\n\nInputs: \n- obj: A Python object of type Union[str, JsCode, dict, list, Element]. This object can be a string, a JavaScript code object, a dictionary, a list, or a custom Element object.\n\nOutputs:\n- A string that represents the JavaScript code or JSON data, properly formatted and escaped for safe inclusion in an HTML document. This output can be directly used in JavaScript contexts within HTML pages without causing syntax errors or breaking the page's rendering due to unescaped HTML entities.", "method_code_mask": "import json\nfrom typing import Union\nimport jinja2\nfrom branca.element import Element\nfrom folium.utilities import JsCode\nfrom folium.utilities import TypeJsonValue\nfrom folium.utilities import camelize\n\n\ndef _to_escaped_json(obj: TypeJsonValue) ->str:\n    return json.dumps(obj).replace('<', '\\\\u003c').replace('>', '\\\\u003e'\n        ).replace('&', '\\\\u0026').replace(\"'\", '\\\\u0027')\n\n\ndef tojavascript(obj: Union[str, JsCode, dict, list, Element]) ->str: [MASK]\n"}
{"method_name": "_to_escaped_json", "full_method_name": "_to_escaped_json", "method_path": "../srcdata/Visualization/folium/folium/template.py", "method_code": "import json\nfrom typing import Union\nimport jinja2\nfrom branca.element import Element\nfrom folium.utilities import JsCode\nfrom folium.utilities import TypeJsonValue\nfrom folium.utilities import camelize\ndef _to_escaped_json(obj: TypeJsonValue) ->str:\n    return json.dumps(obj).replace('<', '\\\\u003c').replace('>', '\\\\u003e'\n        ).replace('&', '\\\\u0026').replace(\"'\", '\\\\u0027')", "test_code_list": [{"test_code": "from branca.element import Element\nfrom folium import JsCode\ndef test_to_escaped_json():\n    assert _to_escaped_json(\"hi<>&'\") == '\"hi\\\\u003c\\\\u003e\\\\u0026\\\\u0027\"'\n\ntest_to_escaped_json()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_template.py"}], "instruction": "Functionality: The _to_escaped_json function is designed to convert a given Python object into a JSON string, where certain characters are escaped to ensure compatibility with HTML environments. This function is particularly useful when embedding JSON data into HTML pages to prevent potential security issues related to script injection.\n\nInputs: \n- obj: A Python object that can be serialized into JSON. This object can be of various types including dictionary, list, string, number, boolean, or None, as long as it is JSON serializable.\n\nOutputs:\n- A string: The function returns a JSON representation of the input object with specific characters escaped. The characters that are escaped include '<', '>', '&', and \"'\", which are replaced with their respective Unicode escape sequences '\\\\u003c', '\\\\u003e', '\\\\u0026', and '\\\\u0027' to prevent them from being interpreted as HTML or JavaScript elements when embedded in an HTML context.", "method_code_mask": "import json\nfrom typing import Union\nimport jinja2\nfrom branca.element import Element\nfrom folium.utilities import JsCode\nfrom folium.utilities import TypeJsonValue\nfrom folium.utilities import camelize\n\n\ndef _to_escaped_json(obj: TypeJsonValue) ->str: [MASK]\n"}
{"method_name": "normalize", "full_method_name": "normalize", "method_path": "../srcdata/Visualization/folium/folium/utilities.py", "method_code": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\ndef normalize(rendered: str) ->str:\n    \"\"\"Return the input string without non-functional spaces or newlines.\"\"\"\n    out = ''.join([line.strip() for line in rendered.splitlines() if line.\n        strip()])\n    out = out.replace(', ', ',')\n    return out", "test_code_list": [{"test_code": "import warnings\nimport numpy as np\nimport pytest\nfrom folium import GeoJson\nfrom folium import Map\nfrom folium import TileLayer\nfrom folium.map import CustomPane\nfrom folium.map import Icon\nfrom folium.map import LayerControl\nfrom folium.map import Marker\nfrom folium.map import Popup\nfrom folium.utilities import normalize\ndef test_layer_control_draggable():\n    m = Map(tiles=None)\n    layer_control = LayerControl(draggable=True).add_to(m)\n    expected = (\n        f'new L.Draggable({layer_control.get_name()}.getContainer()).enable();'\n        )\n    rendered = m.get_root().render()\n    assert normalize(expected) in normalize(rendered)\n\ntest_layer_control_draggable()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_map.py"}, {"test_code": "import warnings\nimport numpy as np\nimport pytest\nfrom folium import GeoJson\nfrom folium import Map\nfrom folium import TileLayer\nfrom folium.map import CustomPane\nfrom folium.map import Icon\nfrom folium.map import LayerControl\nfrom folium.map import Marker\nfrom folium.map import Popup\nfrom folium.utilities import normalize\ndef test_popup_sticky():\n    m = Map()\n    popup = Popup('Some text.', sticky=True).add_to(m)\n    rendered = popup._template.render(this=popup, kwargs={})\n    expected = (\n        \"\"\"\n    var {popup_name} = L.popup({{\n        \"autoClose\": false, \"closeOnClick\": false, \"maxWidth\": \"100%\"\n    }});\n    var {html_name} = $(`<div id=\"{html_name}\" style=\"width: 100.0%; height: 100.0%;\">Some text.</div>`)[0];\n    {popup_name}.setContent({html_name});\n    {map_name}.bindPopup({popup_name});\n    \"\"\"\n        .format(popup_name=popup.get_name(), html_name=list(popup.html.\n        _children.keys())[0], map_name=m.get_name()))\n    assert normalize(rendered) == normalize(expected)\n\ntest_popup_sticky()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_map.py"}, {"test_code": "import warnings\nimport numpy as np\nimport pytest\nfrom folium import GeoJson\nfrom folium import Map\nfrom folium import TileLayer\nfrom folium.map import CustomPane\nfrom folium.map import Icon\nfrom folium.map import LayerControl\nfrom folium.map import Marker\nfrom folium.map import Popup\nfrom folium.utilities import normalize\ndef test_popup_show():\n    m = Map()\n    popup = Popup('Some text.', show=True).add_to(m)\n    rendered = popup._template.render(this=popup, kwargs={})\n    expected = (\n        \"\"\"\n    var {popup_name} = L.popup({{\n        \"autoClose\": false, \"maxWidth\": \"100%\"\n    }});\n    var {html_name} = $(`<div id=\"{html_name}\" style=\"width: 100.0%; height: 100.0%;\">Some text.</div>`)[0];\n    {popup_name}.setContent({html_name});\n    {map_name}.bindPopup({popup_name}).openPopup();\n    \"\"\"\n        .format(popup_name=popup.get_name(), html_name=list(popup.html.\n        _children.keys())[0], map_name=m.get_name()))\n    assert normalize(rendered) == normalize(expected)\n\ntest_popup_show()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_map.py"}, {"test_code": "import warnings\nimport numpy as np\nimport pytest\nfrom folium import GeoJson\nfrom folium import Map\nfrom folium import TileLayer\nfrom folium.map import CustomPane\nfrom folium.map import Icon\nfrom folium.map import LayerControl\nfrom folium.map import Marker\nfrom folium.map import Popup\nfrom folium.utilities import normalize\ndef test_popup_backticks():\n    m = Map()\n    popup = Popup('back`tick`tick').add_to(m)\n    rendered = popup._template.render(this=popup, kwargs={})\n    expected = (\n        \"\"\"\n    var {popup_name} = L.popup({{\"maxWidth\": \"100%\"}});\n    var {html_name} = $(`<div id=\"{html_name}\" style=\"width: 100.0%; height: 100.0%;\">back\\\\`tick\\\\`tick</div>`)[0];\n    {popup_name}.setContent({html_name});\n    {map_name}.bindPopup({popup_name});\n    \"\"\"\n        .format(popup_name=popup.get_name(), html_name=list(popup.html.\n        _children.keys())[0], map_name=m.get_name()))\n    assert normalize(rendered) == normalize(expected)\n\ntest_popup_backticks()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_map.py"}, {"test_code": "import warnings\nimport numpy as np\nimport pytest\nfrom folium import GeoJson\nfrom folium import Map\nfrom folium import TileLayer\nfrom folium.map import CustomPane\nfrom folium.map import Icon\nfrom folium.map import LayerControl\nfrom folium.map import Marker\nfrom folium.map import Popup\nfrom folium.utilities import normalize\ndef test_popup_backticks_already_escaped():\n    m = Map()\n    popup = Popup('back\\\\`tick').add_to(m)\n    rendered = popup._template.render(this=popup, kwargs={})\n    expected = (\n        \"\"\"\n    var {popup_name} = L.popup({{\"maxWidth\": \"100%\"}});\n    var {html_name} = $(`<div id=\"{html_name}\" style=\"width: 100.0%; height: 100.0%;\">back\\\\`tick</div>`)[0];\n    {popup_name}.setContent({html_name});\n    {map_name}.bindPopup({popup_name});\n    \"\"\"\n        .format(popup_name=popup.get_name(), html_name=list(popup.html.\n        _children.keys())[0], map_name=m.get_name()))\n    assert normalize(rendered) == normalize(expected)\n\ntest_popup_backticks_already_escaped()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_map.py"}, {"test_code": "import warnings\nimport numpy as np\nimport pytest\nfrom folium import GeoJson\nfrom folium import Map\nfrom folium import TileLayer\nfrom folium.map import CustomPane\nfrom folium.map import Icon\nfrom folium.map import LayerControl\nfrom folium.map import Marker\nfrom folium.map import Popup\nfrom folium.utilities import normalize\ndef test_custom_pane_show():\n    m = Map()\n    pane = CustomPane('test-name', z_index=625, pointer_events=False).add_to(m)\n    rendered = pane._template.module.script(this=pane, kwargs={})\n    expected = f\"\"\"\n    var {pane.get_name()} = {m.get_name()}.createPane(\"test-name\");\n    {pane.get_name()}.style.zIndex = 625;\n    {pane.get_name()}.style.pointerEvents = 'none';\n    \"\"\"\n    assert normalize(rendered) == normalize(expected)\n\ntest_custom_pane_show()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_map.py"}, {"test_code": "import pytest\nimport xyzservices\nfrom jinja2 import Template\nimport folium\nfrom folium.utilities import normalize\ndef test_image_overlay():\n    \"\"\"Test image overlay.\"\"\"\n    data = [[[1, 0, 0, 1], [0, 0, 0, 0], [0, 0, 0, 0]], [[1, 1, 0, 0.5], [0,\n        0, 1, 1], [0, 0, 1, 1]]]\n    m = folium.Map()\n    io = folium.raster_layers.ImageOverlay(data, [[0, -180], [90, 180]],\n        mercator_project=True)\n    io.add_to(m)\n    m._repr_html_()\n    out = m._parent.render()\n    url = (\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAYAAACddGYaAAAAF0lEQVR42mP4z8AARFDw/z/DeiA5H4QBV60H6ABl9ZIAAAAASUVORK5CYII='\n        )\n    assert io.url == url\n    tmpl = Template(\n        \"\"\"\n        var {{this.get_name()}} = L.imageOverlay(\n            \"{{ this.url }}\",\n            {{ this.bounds }},\n            {{ this.options }}\n        );\n        {{ this.get_name() }}.addTo({{this._parent.get_name()}});\n    \"\"\"\n        )\n    assert normalize(tmpl.render(this=io)) in normalize(out)\n    bounds = m.get_bounds()\n    assert bounds == [[0, -180], [90, 180]], bounds\n\ntest_image_overlay()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_raster_layers.py"}, {"test_code": "import json\nfrom folium import Map\nfrom folium.utilities import get_bounds\nfrom folium.utilities import normalize\nfrom folium.vector_layers import Circle\nfrom folium.vector_layers import CircleMarker\nfrom folium.vector_layers import Polygon\nfrom folium.vector_layers import PolyLine\nfrom folium.vector_layers import Rectangle\nfrom folium.vector_layers import path_options\ndef test_circle():\n    m = Map()\n    radius = 10000\n    popup = f'I am {radius} meters'\n    location = [-27.551667, -48.478889]\n    circle = Circle(location=location, radius=radius, color='black', weight\n        =2, fill_opacity=0.6, opacity=1, fill=True, popup=popup)\n    circle.add_to(m)\n    expected_options = {'bubblingMouseEvents': True, 'color': 'black',\n        'dashArray': None, 'dashOffset': None, 'fill': True, 'fillColor':\n        'black', 'fillOpacity': 0.6, 'fillRule': 'evenodd', 'lineCap':\n        'round', 'lineJoin': 'round', 'opacity': 1, 'radius': radius,\n        'stroke': True, 'weight': 2}\n    m._repr_html_()\n    expected_rendered = f\"\"\"\n    var {circle.get_name()} = L.circle(\n    {location},\n    {{\n    \"bubblingMouseEvents\": true,\n    \"color\": \"black\",\n    \"dashArray\": null,\n    \"dashOffset\": null,\n    \"fill\": true,\n    \"fillColor\": \"black\",\n    \"fillOpacity\": 0.6,\n    \"fillRule\": \"evenodd\",\n    \"lineCap\": \"round\",\n    \"lineJoin\": \"round\",\n    \"opacity\": 1,\n    \"radius\": {radius},\n    \"stroke\": true,\n    \"weight\": 2\n    }}\n    )\n    .addTo({m.get_name()});\n    \"\"\"\n    rendered = circle._template.module.script(circle)\n    assert normalize(rendered) == normalize(expected_rendered)\n    assert circle.get_bounds() == [location, location]\n    assert json.dumps(circle.to_dict()) == circle.to_json()\n    assert circle.location == [-27.551667, -48.478889]\n    assert circle.options == expected_options\n\ntest_circle()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_vector_layers.py"}, {"test_code": "import json\nfrom folium import Map\nfrom folium.utilities import get_bounds\nfrom folium.utilities import normalize\nfrom folium.vector_layers import Circle\nfrom folium.vector_layers import CircleMarker\nfrom folium.vector_layers import Polygon\nfrom folium.vector_layers import PolyLine\nfrom folium.vector_layers import Rectangle\nfrom folium.vector_layers import path_options\ndef test_circle_marker():\n    m = Map()\n    radius = 50\n    popup = f'I am {radius} pixels'\n    location = [-27.55, -48.8]\n    circle_marker = CircleMarker(location=location, radius=radius, color=\n        'black', weight=2, fill_opacity=0.6, opacity=1, fill=True, popup=popup)\n    circle_marker.add_to(m)\n    options = {'bubblingMouseEvents': True, 'color': 'black', 'dashArray':\n        None, 'dashOffset': None, 'fill': True, 'fillColor': 'black',\n        'fillOpacity': 0.6, 'fillRule': 'evenodd', 'lineCap': 'round',\n        'lineJoin': 'round', 'opacity': 1, 'radius': radius, 'stroke': True,\n        'weight': 2}\n    m._repr_html_()\n    expected_bounds = [location, location]\n    expected_rendered = f\"\"\"\n    var {circle_marker.get_name()} = L.circleMarker(\n    {location},\n    {{\n    \"bubblingMouseEvents\": true,\n    \"color\": \"black\",\n    \"dashArray\": null,\n    \"dashOffset\": null,\n    \"fill\": true,\n    \"fillColor\": \"black\",\n    \"fillOpacity\": 0.6,\n    \"fillRule\": \"evenodd\",\n    \"lineCap\": \"round\",\n    \"lineJoin\": \"round\",\n    \"opacity\": 1,\n    \"radius\": {radius},\n    \"stroke\": true,\n    \"weight\": 2\n    }}\n    )\n    .addTo({m.get_name()});\n    \"\"\"\n    rendered = circle_marker._template.module.script(circle_marker)\n    assert normalize(rendered) == normalize(expected_rendered)\n    assert circle_marker.get_bounds() == expected_bounds\n    assert json.dumps(circle_marker.to_dict()) == circle_marker.to_json()\n    assert circle_marker.location == location\n    assert circle_marker.options == options\n\ntest_circle_marker()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_vector_layers.py"}, {"test_code": "import json\nfrom folium import Map\nfrom folium.utilities import get_bounds\nfrom folium.utilities import normalize\nfrom folium.vector_layers import Circle\nfrom folium.vector_layers import CircleMarker\nfrom folium.vector_layers import Polygon\nfrom folium.vector_layers import PolyLine\nfrom folium.vector_layers import Rectangle\nfrom folium.vector_layers import path_options\ndef test_rectangle():\n    m = Map()\n    location = [[45.6, -122.8], [45.61, -122.7]]\n    rectangle = Rectangle(bounds=location, popup='I am a rectangle', color=\n        'black', weight=2, fill_opacity=0.6, opacity=1, fill=True)\n    rectangle.add_to(m)\n    expected_options = {'bubblingMouseEvents': True, 'color': 'black',\n        'dashArray': None, 'dashOffset': None, 'fill': True, 'fillColor':\n        'black', 'fillOpacity': 0.6, 'fillRule': 'evenodd', 'lineCap':\n        'round', 'lineJoin': 'round', 'noClip': False, 'opacity': 1,\n        'smoothFactor': 1.0, 'stroke': True, 'weight': 2}\n    m._repr_html_()\n    expected_rendered = f\"\"\"\n    var {rectangle.get_name()} = L.rectangle(\n    {location},\n    {{\n    \"bubblingMouseEvents\": true,\n    \"color\": \"black\",\n    \"dashArray\": null,\n    \"dashOffset\": null,\n    \"fill\": true,\n    \"fillColor\": \"black\",\n    \"fillOpacity\": 0.6,\n    \"fillRule\": \"evenodd\",\n    \"lineCap\": \"round\",\n    \"lineJoin\": \"round\",\n    \"noClip\": false,\n    \"opacity\": 1,\n    \"smoothFactor\": 1.0,\n    \"stroke\": true,\n    \"weight\": 2\n    }}\n    )\n    .addTo({m.get_name()});\n    \"\"\"\n    rendered = rectangle._template.module.script(rectangle)\n    assert normalize(rendered) == normalize(expected_rendered)\n    assert rectangle.get_bounds() == location\n    assert json.dumps(rectangle.to_dict()) == rectangle.to_json()\n    assert rectangle.options == expected_options\n\ntest_rectangle()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_vector_layers.py"}, {"test_code": "import json\nfrom folium import Map\nfrom folium.utilities import get_bounds\nfrom folium.utilities import normalize\nfrom folium.vector_layers import Circle\nfrom folium.vector_layers import CircleMarker\nfrom folium.vector_layers import Polygon\nfrom folium.vector_layers import PolyLine\nfrom folium.vector_layers import Rectangle\nfrom folium.vector_layers import path_options\ndef test_polygon_marker():\n    m = Map()\n    locations = [[35.6636, 139.7634], [35.6629, 139.7664], [35.6663, \n        139.7706], [35.6725, 139.7632], [35.6728, 139.7627], [35.672, \n        139.7606], [35.6682, 139.7588], [35.6663, 139.7627]]\n    polygon = Polygon(locations=locations, popup='I am a polygon')\n    polygon.add_to(m)\n    expected_options = {'bubblingMouseEvents': True, 'color': '#3388ff',\n        'dashArray': None, 'dashOffset': None, 'fill': False, 'fillColor':\n        '#3388ff', 'fillOpacity': 0.2, 'fillRule': 'evenodd', 'lineCap':\n        'round', 'lineJoin': 'round', 'noClip': False, 'opacity': 1.0,\n        'smoothFactor': 1.0, 'stroke': True, 'weight': 3}\n    m._repr_html_()\n    expected_rendered = f\"\"\"\n    var {polygon.get_name()} = L.polygon(\n    {locations},\n    {{\n    \"bubblingMouseEvents\": true,\n    \"color\": \"#3388ff\",\n    \"dashArray\": null,\n    \"dashOffset\": null,\n    \"fill\": false,\n    \"fillColor\": \"#3388ff\",\n    \"fillOpacity\": 0.2,\n    \"fillRule\": \"evenodd\",\n    \"lineCap\": \"round\",\n    \"lineJoin\": \"round\",\n    \"noClip\": false,\n    \"opacity\": 1.0,\n    \"smoothFactor\": 1.0,\n    \"stroke\": true,\n    \"weight\": 3\n    }}\n    )\n    .addTo({m.get_name()});\n    \"\"\"\n    rendered = polygon._template.module.script(polygon)\n    assert normalize(rendered) == normalize(expected_rendered)\n    assert polygon.get_bounds() == get_bounds(locations)\n    assert json.dumps(polygon.to_dict()) == polygon.to_json()\n    assert polygon.options == expected_options\n\ntest_polygon_marker()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_vector_layers.py"}, {"test_code": "import json\nfrom folium import Map\nfrom folium.utilities import get_bounds\nfrom folium.utilities import normalize\nfrom folium.vector_layers import Circle\nfrom folium.vector_layers import CircleMarker\nfrom folium.vector_layers import Polygon\nfrom folium.vector_layers import PolyLine\nfrom folium.vector_layers import Rectangle\nfrom folium.vector_layers import path_options\ndef test_polyline():\n    m = Map()\n    locations = [[40.0, -80.0], [45.0, -80.0]]\n    polyline = PolyLine(locations=locations, popup='I am PolyLine')\n    polyline.add_to(m)\n    expected_options = {'smoothFactor': 1.0, 'noClip': False,\n        'bubblingMouseEvents': True, 'color': '#3388ff', 'dashArray': None,\n        'dashOffset': None, 'fill': False, 'fillColor': '#3388ff',\n        'fillOpacity': 0.2, 'fillRule': 'evenodd', 'lineCap': 'round',\n        'lineJoin': 'round', 'opacity': 1.0, 'stroke': True, 'weight': 3}\n    m._repr_html_()\n    expected_rendered = f\"\"\"\n    var {polyline.get_name()} = L.polyline(\n    {locations},\n    {{\n    \"bubblingMouseEvents\": true,\n    \"color\": \"#3388ff\",\n    \"dashArray\": null,\n    \"dashOffset\": null,\n    \"fill\": false,\n    \"fillColor\": \"#3388ff\",\n    \"fillOpacity\": 0.2,\n    \"fillRule\": \"evenodd\",\n    \"lineCap\": \"round\",\n    \"lineJoin\": \"round\",\n    \"noClip\": false,\n    \"opacity\": 1.0,\n    \"smoothFactor\": 1.0,\n    \"stroke\": true,\n    \"weight\": 3\n    }}\n    )\n    .addTo({m.get_name()});\n    \"\"\"\n    rendered = polyline._template.module.script(polyline)\n    assert normalize(rendered) == normalize(expected_rendered)\n    assert polyline.get_bounds() == get_bounds(locations)\n    assert json.dumps(polyline.to_dict()) == polyline.to_json()\n    assert polyline.options == expected_options\n\ntest_polyline()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_vector_layers.py"}, {"test_code": "import json\nfrom folium import Map\nfrom folium.utilities import get_bounds\nfrom folium.utilities import normalize\nfrom folium.vector_layers import Circle\nfrom folium.vector_layers import CircleMarker\nfrom folium.vector_layers import Polygon\nfrom folium.vector_layers import PolyLine\nfrom folium.vector_layers import Rectangle\nfrom folium.vector_layers import path_options\ndef test_mulyipolyline():\n    m = Map()\n    locations = [[[45.51, -122.68], [37.77, -122.43], [34.04, -118.2]], [[\n        40.78, -73.91], [41.83, -87.62], [32.76, -96.72]]]\n    multipolyline = PolyLine(locations=locations, popup='MultiPolyLine')\n    multipolyline.add_to(m)\n    expected_options = {'smoothFactor': 1.0, 'noClip': False,\n        'bubblingMouseEvents': True, 'color': '#3388ff', 'dashArray': None,\n        'dashOffset': None, 'fill': False, 'fillColor': '#3388ff',\n        'fillOpacity': 0.2, 'fillRule': 'evenodd', 'lineCap': 'round',\n        'lineJoin': 'round', 'opacity': 1.0, 'stroke': True, 'weight': 3}\n    m._repr_html_()\n    expected_rendered = f\"\"\"\n    var {multipolyline.get_name()} = L.polyline(\n    {locations},\n    {{\n    \"bubblingMouseEvents\": true,\n    \"color\": \"#3388ff\",\n    \"dashArray\": null,\n    \"dashOffset\": null,\n    \"fill\": false,\n    \"fillColor\": \"#3388ff\",\n    \"fillOpacity\": 0.2,\n    \"fillRule\": \"evenodd\",\n    \"lineCap\": \"round\",\n    \"lineJoin\": \"round\",\n    \"noClip\": false,\n    \"opacity\": 1.0,\n    \"smoothFactor\": 1.0,\n    \"stroke\": true,\n    \"weight\": 3\n    }}\n    )\n    .addTo({m.get_name()});\n    \"\"\"\n    rendered = multipolyline._template.module.script(multipolyline)\n    assert normalize(rendered) == normalize(expected_rendered)\n    assert multipolyline.get_bounds() == get_bounds(locations)\n    assert json.dumps(multipolyline.to_dict()) == multipolyline.to_json()\n    assert multipolyline.options == expected_options\n\ntest_mulyipolyline()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_vector_layers.py"}, {"test_code": "from jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_fullscreen():\n    m = folium.Map([47, 3], zoom_start=1)\n    fs = plugins.Fullscreen().add_to(m)\n    out = normalize(m._parent.render())\n    tmpl = Template(\n        \"\"\"\n        L.control.fullscreen(\n            {{ this.options|tojson }}\n        ).addTo({{this._parent.get_name()}});\n    \"\"\"\n        )\n    assert normalize(tmpl.render(this=fs)) in out\n\ntest_fullscreen()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_fullscreen.py"}, {"test_code": "import numpy as np\nimport pandas as pd\nimport pytest\nfrom jinja2 import Template\nimport folium\nfrom folium.plugins import FastMarkerCluster\nfrom folium.utilities import normalize\ndef test_fast_marker_cluster():\n    n = 100\n    np.random.seed(seed=26082009)\n    data = np.array([np.random.uniform(low=35, high=60, size=n), np.random.\n        uniform(low=-12, high=30, size=n)]).T\n    m = folium.Map([45.0, 3.0], zoom_start=4)\n    mc = FastMarkerCluster(data).add_to(m)\n    out = normalize(m._parent.render())\n    assert '<script src=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/leaflet.markercluster.js\"></script>' in out\n    assert '<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.css\"/>' in out\n    assert '<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.Default.css\"/>' in out\n    tmpl = Template(\n        \"\"\"\n        var {{ this.get_name() }} = (function(){\n            {{ this.callback }}\n\n            var data = {{ this.data|tojson }};\n            var cluster = L.markerClusterGroup({{ this.options|tojson }});\n            {%- if this.icon_create_function is not none %}\n            cluster.options.iconCreateFunction =\n                {{ this.icon_create_function.strip() }};\n            {%- endif %}\n\n            for (var i = 0; i < data.length; i++) {\n                var row = data[i];\n                var marker = callback(row);\n                marker.addTo(cluster);\n            }\n\n            cluster.addTo({{ this._parent.get_name() }});\n            return cluster;\n        })();\n    \"\"\"\n        )\n    expected = normalize(tmpl.render(this=mc))\n    assert expected in out\n\ntest_fast_marker_cluster()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_fast_marker_cluster.py"}, {"test_code": "import numpy as np\nfrom jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_heat_map_with_time():\n    np.random.seed(3141592)\n    initial_data = np.random.normal(size=(100, 2)) * np.array([[1, 1]]\n        ) + np.array([[48, 5]])\n    move_data = np.random.normal(size=(100, 2)) * 0.01\n    data = [(initial_data + move_data * i).tolist() for i in range(100)]\n    m = folium.Map([48.0, 5.0], zoom_start=6)\n    hm = plugins.HeatMapWithTime(data).add_to(m)\n    out = normalize(m._parent.render())\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js\"></script>'\n        )\n    assert script in out\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/pa7_hm.min.js\"></script>'\n        )\n    assert script in out\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/pa7_leaflet_hm.min.js\"></script>'\n        )\n    assert script in out\n    script = (\n        '<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.css\"/>'\n        )\n    assert script in out\n    tmpl = Template(\n        \"\"\"\n        var times = {{this.times}};\n\n        {{this._parent.get_name()}}.timeDimension = L.timeDimension(\n            {times : times, currentTime: new Date(1)}\n        );\n\n        var {{this._control_name}} = new L.Control.TimeDimensionCustom({{this.index}}, {\n            autoPlay: {{this.auto_play}},\n            backwardButton: {{this.backward_button}},\n            displayDate: {{this.display_index}},\n            forwardButton: {{this.forward_button}},\n            limitMinimumRange: {{this.limit_minimum_range}},\n            limitSliders: {{this.limit_sliders}},\n            loopButton: {{this.loop_button}},\n            maxSpeed: {{this.max_speed}},\n            minSpeed: {{this.min_speed}},\n            playButton: {{this.play_button}},\n            playReverseButton: {{this.play_reverse_button}},\n            position: \"{{this.position}}\",\n            speedSlider: {{this.speed_slider}},\n            speedStep: {{this.speed_step}},\n            styleNS: \"{{this.style_NS}}\",\n            timeSlider: {{this.time_slider}},\n            timeSliderDrapUpdate: {{this.time_slider_drap_update}},\n            timeSteps: {{this.index_steps}}\n            })\n            .addTo({{this._parent.get_name()}});\n\n            var {{this.get_name()}} = new TDHeatmap({{this.data}},\n            {heatmapOptions: {\n                    radius: {{this.radius}},\n                    blur: {{this.blur}},\n                    minOpacity: {{this.min_opacity}},\n                    maxOpacity: {{this.max_opacity}},\n                    scaleRadius: {{this.scale_radius}},\n                    useLocalExtrema: {{this.use_local_extrema}},\n                    defaultWeight: 1,\n                    {% if this.gradient %}gradient: {{ this.gradient }}{% endif %}\n                }\n            });\n            {{ this.get_name() }}.addTo({{ this._parent.get_name() }});\n    \"\"\"\n        )\n    assert normalize(tmpl.render(this=hm)) in out\n\ntest_heat_map_with_time()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_heat_map_withtime.py"}, {"test_code": "import numpy as np\nfrom jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_marker_cluster():\n    N = 100\n    np.random.seed(seed=26082009)\n    data = np.array([np.random.uniform(low=35, high=60, size=N), np.random.\n        uniform(low=-12, high=30, size=N)]).T\n    m = folium.Map([45.0, 3.0], zoom_start=4)\n    mc = plugins.MarkerCluster(data).add_to(m)\n    tmpl_for_expected = Template(\n        \"\"\"\n        var {{this.get_name()}} = L.markerClusterGroup(\n            {{ this.options|tojson }}\n        );\n        {%- if this.icon_create_function is not none %}\n            {{ this.get_name() }}.options.iconCreateFunction =\n                {{ this.icon_create_function.strip() }};\n            {%- endif %}\n\n        {% for marker in this._children.values() %}\n            var {{marker.get_name()}} = L.marker(\n                {{ marker.location|tojson }},\n                {}\n            ).addTo({{this.get_name()}});\n        {% endfor %}\n\n        {{ this.get_name() }}.addTo({{ this._parent.get_name() }});\n    \"\"\"\n        )\n    expected = normalize(tmpl_for_expected.render(this=mc))\n    out = normalize(m._parent.render())\n    assert '<script src=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/leaflet.markercluster.js\"></script>' in out\n    assert '<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.css\"/>' in out\n    assert '<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.Default.css\"/>' in out\n    assert expected in out\n    bounds = m.get_bounds()\n    np.testing.assert_allclose(bounds, [[35.147332572663785, -\n        11.520684337300109], [59.839718052359274, 29.94931046497927]])\n\ntest_marker_cluster()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_marker_cluster.py"}, {"test_code": "from jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_polyline_text_path():\n    m = folium.Map([20.0, 0.0], zoom_start=3)\n    wind_locations = [[59.3556, -31.99219], [55.17887, -42.89062], [47.7541,\n        -43.94531], [38.27269, -37.96875], [27.05913, -41.13281], [16.29905,\n        -36.5625], [8.40717, -30.23437], [1.05463, -22.5], [-8.75479, -\n        18.28125], [-21.61658, -20.03906], [-31.35364, -24.25781], [-\n        39.90974, -30.9375], [-43.83453, -41.13281], [-47.7541, -49.92187],\n        [-50.95843, -54.14062], [-55.9738, -56.60156]]\n    wind_line = folium.PolyLine(wind_locations, weight=15, color='#8EE9FF')\n    attr = {'fill': '#007DEF', 'font-weight': 'bold', 'font-size': '24'}\n    wind_textpath = plugins.PolyLineTextPath(wind_line, ') ', repeat=True,\n        offset=7, attributes=attr)\n    m.add_child(wind_line)\n    m.add_child(wind_textpath)\n    out = normalize(m._parent.render())\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/npm/leaflet-textpath@1.2.3/leaflet.textpath.min.js\"></script>'\n        )\n    assert script in out\n    tmpl = Template(\n        \"\"\"\n        {{ this.polyline.get_name() }}.setText(\n            \"{{this.text}}\",\n            {{ this.options|tojson }}\n        );\n        \"\"\"\n        )\n    expected = normalize(tmpl.render(this=wind_textpath))\n    assert expected in out\n\ntest_polyline_text_path()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_polyline_text_path.py"}, {"test_code": "from jinja2 import Template\nimport folium\nimport folium.plugins\nfrom folium.utilities import normalize\ndef test_dual_map():\n    m = folium.plugins.DualMap((0, 0))\n    folium.FeatureGroup(name='both').add_to(m)\n    folium.FeatureGroup(name='left').add_to(m.m1)\n    folium.FeatureGroup(name='right').add_to(m.m2)\n    figure = m.get_root()\n    assert isinstance(figure, folium.Figure)\n    out = normalize(figure.render())\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/gh/jieter/Leaflet.Sync/L.Map.Sync.min.js\"></script>'\n        )\n    assert script in out\n    tmpl = Template(\n        \"\"\"\n        {{ this.m1.get_name() }}.sync({{ this.m2.get_name() }});\n        {{ this.m2.get_name() }}.sync({{ this.m1.get_name() }});\n    \"\"\"\n        )\n    assert normalize(tmpl.render(this=m)) in out\n\ntest_dual_map()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_dual_map.py"}, {"test_code": "import folium\nfrom folium.plugins import groupedlayercontrol\nfrom folium.utilities import normalize\ndef test_grouped_layer_control():\n    m = folium.Map([40.0, 70.0], zoom_start=6)\n    fg1 = folium.FeatureGroup(name='g1')\n    fg2 = folium.FeatureGroup(name='g2')\n    fg3 = folium.FeatureGroup(name='g3')\n    folium.Marker([40, 74]).add_to(fg1)\n    folium.Marker([38, 72]).add_to(fg2)\n    folium.Marker([40, 72]).add_to(fg3)\n    m.add_child(fg1)\n    m.add_child(fg2)\n    m.add_child(fg3)\n    lc = groupedlayercontrol.GroupedLayerControl(groups={'groups1': [fg1, fg2]}\n        )\n    lc.add_to(m)\n    out = normalize(m._parent.render())\n    assert 'https://cdnjs.cloudflare.com/ajax/libs/leaflet-groupedlayercontrol/0.6.1/leaflet.groupedlayercontrol.min.js' in out\n    assert normalize(\n        f\"\"\"\n        L.control.groupedLayers(\n            null,\n            {{\n                \"groups1\" : {{\n                    \"g1\" : {fg1.get_name()},\n                    \"g2\" : {fg2.get_name()},\n                }},\n            }},\n            {{\"exclusiveGroups\": [\"groups1\"]}},\n         ).addTo({m.get_name()});\n         {fg2.get_name()}.remove();\n    \"\"\"\n        ) in out\n\ntest_grouped_layer_control()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_grouped_layer_control.py"}, {"test_code": "from jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_feature_group_sub_group():\n    m = folium.Map([0.0, 0.0], zoom_start=6)\n    fg = folium.FeatureGroup()\n    m.add_child(fg)\n    g1 = plugins.FeatureGroupSubGroup(fg, 'g1')\n    m.add_child(g1)\n    folium.Marker([1, 1]).add_to(g1)\n    folium.Marker([-1, -1]).add_to(g1)\n    g2 = plugins.FeatureGroupSubGroup(fg, 'g2')\n    folium.Marker([-1, 1]).add_to(g2)\n    folium.Marker([1, -1]).add_to(g2)\n    m.add_child(g2)\n    folium.LayerControl().add_to(m)\n    out = normalize(m._parent.render())\n    assert '<script src=\"https://unpkg.com/leaflet.featuregroup.subgroup@1.0.2/dist/leaflet.featuregroup.subgroup.js\"></script>' in out\n    tmpl = Template(\n        \"\"\"\n        var {{ this.get_name() }} = L.featureGroup.subGroup(\n            {{ this._group.get_name() }}\n        );\n    \"\"\"\n        )\n    assert normalize(tmpl.render(this=g1)) in out\n    assert normalize(tmpl.render(this=g2)) in out\n    tmpl = Template(\n        '{{ this.get_name() }}.addTo({{ this._parent.get_name() }});')\n    assert normalize(tmpl.render(this=g1)) in out\n    assert normalize(tmpl.render(this=g2)) in out\n\ntest_feature_group_sub_group()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_feature_group_sub_group.py"}, {"test_code": "from jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_scroll_zoom_toggler():\n    m = folium.Map([45.0, 3.0], zoom_start=4)\n    szt = plugins.ScrollZoomToggler()\n    m.add_child(szt)\n    out = normalize(m._parent.render())\n    tmpl = Template(\n        \"\"\"\n        <img id=\"{{this.get_name()}}\" alt=\"scroll\"\n        src=\"https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/png/512/arrow-move.png\"\n        style=\"z-index: 999999\"\n        onclick=\"{{this._parent.get_name()}}.toggleScroll()\"></img>\n    \"\"\"\n        )\n    assert ''.join(tmpl.render(this=szt).split()) in ''.join(out.split())\n    tmpl = Template(\n        \"\"\"\n        <style>\n            #{{this.get_name()}} {\n                position:absolute;\n                width:35px;\n                bottom:10px;\n                height:35px;\n                left:10px;\n                background-color:#fff;\n                text-align:center;\n                line-height:35px;\n                vertical-align: middle;\n                }\n        </style>\n    \"\"\"\n        )\n    expected = normalize(tmpl.render(this=szt))\n    assert expected in out\n    tmpl = Template(\n        \"\"\"\n        {{this._parent.get_name()}}.scrollEnabled = true;\n\n        {{this._parent.get_name()}}.toggleScroll = function() {\n            if (this.scrollEnabled) {\n                this.scrollEnabled = false;\n                this.scrollWheelZoom.disable();\n            } else {\n                this.scrollEnabled = true;\n                this.scrollWheelZoom.enable();\n            }\n        };\n\n        {{this._parent.get_name()}}.toggleScroll();\n    \"\"\"\n        )\n    expected = normalize(tmpl.render(this=szt))\n    assert expected in out\n    bounds = m.get_bounds()\n    assert bounds == [[None, None], [None, None]], bounds\n\ntest_scroll_zoom_toggler()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_scroll_zoom_toggler.py"}, {"test_code": "from jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_beautify_icon():\n    m = folium.Map([30.0, 0.0], zoom_start=3)\n    ic1 = plugins.BeautifyIcon(icon='plane', border_color='#b3334f',\n        text_color='#b3334f')\n    ic2 = plugins.BeautifyIcon(border_color='#00ABDC', text_color='#00ABDC',\n        number=10, inner_icon_style='margin-top:0;')\n    bm1 = folium.Marker(location=[46, -122], popup='Portland, OR', icon=ic1\n        ).add_to(m)\n    bm2 = folium.Marker(location=[50, -121], icon=ic2).add_to(m)\n    m.add_child(bm1)\n    m.add_child(bm2)\n    m._repr_html_()\n    out = normalize(m._parent.render())\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/gh/marslan390/BeautifyMarker/leaflet-beautify-marker-icon.min.js\"></script>'\n        )\n    assert script in out\n    css = (\n        '<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/marslan390/BeautifyMarker/leaflet-beautify-marker-icon.min.css\"/>'\n        )\n    assert css in out\n    tmpl = Template(\n        \"\"\"\n                var {{this.get_name()}} = new L.BeautifyIcon.icon({{ this.options|tojson }})\n                {{this._parent.get_name()}}.setIcon({{this.get_name()}});\n            \"\"\"\n        )\n    assert normalize(tmpl.render(this=ic1)) in out\n    assert normalize(tmpl.render(this=ic2)) in out\n\ntest_beautify_icon()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_beautify_icon.py"}, {"test_code": "import numpy as np\nfrom jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_timestamped_geo_json():\n    coordinates = [[[[lon - 8 * np.sin(theta), -47 + 6 * np.cos(theta)] for\n        theta in np.linspace(0, 2 * np.pi, 25)], [[lon - 4 * np.sin(theta),\n        -47 + 3 * np.cos(theta)] for theta in np.linspace(0, 2 * np.pi, 25)\n        ]] for lon in np.linspace(-150, 150, 7)]\n    data = {'type': 'FeatureCollection', 'features': [{'type': 'Feature',\n        'geometry': {'type': 'Point', 'coordinates': [0, 0]}, 'properties':\n        {'times': [1435708800000 + 12 * 86400000]}}, {'type': 'Feature',\n        'geometry': {'type': 'MultiPoint', 'coordinates': [[lon, -25] for\n        lon in np.linspace(-150, 150, 49)]}, 'properties': {'times': [(\n        1435708800000 + i * 86400000) for i in np.linspace(0, 25, 49)]}}, {\n        'type': 'Feature', 'geometry': {'type': 'LineString', 'coordinates':\n        [[lon, 25] for lon in np.linspace(-150, 150, 25)]}, 'properties': {\n        'times': [(1435708800000 + i * 86400000) for i in np.linspace(0, 25,\n        25)], 'style': {'color': 'red'}}}, {'type': 'Feature', 'geometry':\n        {'type': 'MultiLineString', 'coordinates': [[[lon - 4 * np.sin(\n        theta), 47 + 3 * np.cos(theta)] for theta in np.linspace(0, 2 * np.\n        pi, 25)] for lon in np.linspace(-150, 150, 13)]}, 'properties': {\n        'times': [(1435708800000 + i * 86400000) for i in np.linspace(0, 25,\n        13)]}}, {'type': 'Feature', 'geometry': {'type': 'MultiPolygon',\n        'coordinates': coordinates}, 'properties': {'times': [(\n        1435708800000 + i * 86400000) for i in np.linspace(0, 25, 7)]}}]}\n    m = folium.Map([47, 3], zoom_start=1)\n    tgj = plugins.TimestampedGeoJson(data).add_to(m)\n    out = normalize(m._parent.render())\n    assert '<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js\"></script>' in out\n    assert '<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js\"></script>' in out\n    assert '<script src=\"https://cdn.jsdelivr.net/npm/iso8601-js-period@0.2.1/iso8601.min.js\"></script>' in out\n    assert '<script src=\"https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js\"></script>' in out\n    assert '<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css\"/>' in out\n    assert '<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.css\"/>' in out\n    assert '<script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js\"></script>' in out\n    tmpl = Template(\n        \"\"\"\n        L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({\n            _getDisplayDateFormat: function(date){\n                var newdate = new moment(date);\n                console.log(newdate)\n                return newdate.format(\"{{this.date_options}}\");\n            }\n        });\n        {{this._parent.get_name()}}.timeDimension = L.timeDimension(\n            {\n                period: {{ this.period|tojson }},\n            }\n        );\n        var timeDimensionControl = new L.Control.TimeDimensionCustom(\n            {{ this.options|tojson }}\n        );\n        {{this._parent.get_name()}}.addControl(this.timeDimensionControl);\n\n        var geoJsonLayer = L.geoJson({{this.data}}, {\n                pointToLayer: function (feature, latLng) {\n                    if (feature.properties.icon == 'marker') {\n                        if(feature.properties.iconstyle){\n                            return new L.Marker(latLng, {\n                                icon: L.icon(feature.properties.iconstyle)});\n                        }\n                        //else\n                        return new L.Marker(latLng);\n                    }\n                    if (feature.properties.icon == 'circle') {\n                        if (feature.properties.iconstyle) {\n                            return new L.circleMarker(latLng, feature.properties.iconstyle)\n                            };\n                        //else\n                        return new L.circleMarker(latLng);\n                    }\n                    //else\n\n                    return new L.Marker(latLng);\n                },\n                style: function (feature) {\n                    return feature.properties.style;\n                },\n                onEachFeature: function(feature, layer) {\n                    if (feature.properties.popup) {\n                    layer.bindPopup(feature.properties.popup);\n                    }\n                    if (feature.properties.tooltip) {\n                        layer.bindTooltip(feature.properties.tooltip);\n                    }\n                }\n            })\n\n        var {{this.get_name()}} = L.timeDimension.layer.geoJson(\n            geoJsonLayer,\n            {\n                updateTimeDimension: true,\n                addlastPoint: {{ this.add_last_point|tojson }},\n                duration: {{ this.duration }},\n            }\n        ).addTo({{this._parent.get_name()}});\n    \"\"\"\n        )\n    expected = normalize(tmpl.render(this=tgj))\n    assert expected in out\n    bounds = m.get_bounds()\n    assert bounds == [[-53.0, -158.0], [50.0, 158.0]], bounds\n\ntest_timestamped_geo_json()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_timestamped_geo_json.py"}, {"test_code": "from jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_terminator():\n    m = folium.Map([45.0, 3.0], zoom_start=1)\n    t = plugins.Terminator().add_to(m)\n    out = normalize(m._parent.render())\n    tmpl = Template('L.terminator().addTo({{this._parent.get_name()}});')\n    expected = normalize(tmpl.render(this=t))\n    assert expected in out\n    bounds = m.get_bounds()\n    assert bounds == [[None, None], [None, None]], bounds\n\ntest_terminator()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_terminator.py"}, {"test_code": "from jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_antpath():\n    m = folium.Map([20.0, 0.0], zoom_start=3)\n    locations = [[59.3556, -31.99219], [55.17887, -42.89062], [47.7541, -\n        43.94531], [38.27269, -37.96875], [27.05913, -41.13281], [16.29905,\n        -36.5625], [8.40717, -30.23437], [1.05463, -22.5], [-8.75479, -\n        18.28125], [-21.61658, -20.03906], [-31.35364, -24.25781], [-\n        39.90974, -30.9375], [-43.83453, -41.13281], [-47.7541, -49.92187],\n        [-50.95843, -54.14062], [-55.9738, -56.60156]]\n    antpath = plugins.AntPath(locations=locations)\n    antpath.add_to(m)\n    out = m._parent.render()\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/npm/leaflet-ant-path@1.1.2/dist/leaflet-ant-path.min.js\"></script>'\n        )\n    assert script in out\n    tmpl = Template(\n        \"\"\"\n          {{this.get_name()}} = L.polyline.antPath(\n                  {{ this.locations|tojson }},\n                  {{ this.options|tojson }}\n                )\n                .addTo({{this._parent.get_name()}});\n        \"\"\"\n        )\n    expected_rendered = tmpl.render(this=antpath)\n    rendered = antpath._template.module.script(antpath)\n    assert normalize(expected_rendered) == normalize(rendered)\n\ntest_antpath()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_antpath.py"}, {"test_code": "import pytest\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_polylineoffset_without_offset():\n    m = folium.Map([20.0, 0.0], zoom_start=3)\n    locations = [[59.3556, -31.99219], [55.17887, -42.89062]]\n    polylineoffset = plugins.PolyLineOffset(locations=locations)\n    polylineoffset.add_to(m)\n    m._repr_html_()\n    out = m._parent.render()\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/npm/leaflet-polylineoffset@1.1.1/leaflet.polylineoffset.min.js\"></script>'\n        )\n    assert script in out\n    expected_rendered = f\"\"\"\n    var {polylineoffset.get_name()} = L.polyline(\n    {locations},\n    {{\n    \"bubblingMouseEvents\": true,\n    \"color\": \"#3388ff\",\n    \"dashArray\": null,\n    \"dashOffset\": null,\n    \"fill\": false,\n    \"fillColor\": \"#3388ff\",\n    \"fillOpacity\": 0.2,\n    \"fillRule\": \"evenodd\",\n    \"lineCap\": \"round\",\n    \"lineJoin\": \"round\",\n    \"noClip\": false,\n    \"offset\": 0,\n    \"opacity\": 1.0,\n    \"smoothFactor\": 1.0,\n    \"stroke\": true,\n    \"weight\": 3\n    }}\n    )\n    .addTo({m.get_name()});\n    \"\"\"\n    rendered = polylineoffset._template.module.script(polylineoffset)\n    assert normalize(expected_rendered) == normalize(rendered)\n\ntest_polylineoffset_without_offset()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_polyline_offset.py"}, {"test_code": "from jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_boat_marker():\n    m = folium.Map([30.0, 0.0], zoom_start=3)\n    bm1 = plugins.BoatMarker((34, -43), heading=45, wind_heading=150,\n        wind_speed=45, color='#8f8')\n    bm2 = plugins.BoatMarker((46, -30), heading=-20, wind_heading=46,\n        wind_speed=25, color='#88f')\n    m.add_child(bm1)\n    m.add_child(bm2)\n    m._repr_html_()\n    out = normalize(m._parent.render())\n    script = (\n        '<script src=\"https://unpkg.com/leaflet.boatmarker/leaflet.boatmarker.min.js\"></script>'\n        )\n    assert script in out\n    tmpl = Template(\n        \"\"\"\n        var {{ this.get_name() }} = L.boatMarker(\n            {{ this.location|tojson }},\n            {{ this.options|tojson }}\n        ).addTo({{ this._parent.get_name() }});\n        {{ this.get_name() }}.setHeadingWind(\n            {{ this.heading }},\n            {{ this.wind_speed }},\n            {{ this.wind_heading }}\n        );\n    \"\"\"\n        )\n    assert normalize(tmpl.render(this=bm1)) in out\n    assert normalize(tmpl.render(this=bm2)) in out\n    bounds = m.get_bounds()\n    assert bounds == [[34, -43], [46, -30]], bounds\n\ntest_boat_marker()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_boat_marker.py"}, {"test_code": "from jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_boat_marker_with_no_wind_speed_or_heading():\n    m = folium.Map([30.0, 0.0], zoom_start=3)\n    bm1 = plugins.BoatMarker((34, -43), heading=45, color='#8f8')\n    m.add_child(bm1)\n    out = normalize(m._parent.render())\n    tmpl = Template(\n        \"\"\"\n        var {{ this.get_name() }} = L.boatMarker(\n            {{ this.location|tojson }},\n            {{ this.options|tojson }}\n        ).addTo({{ this._parent.get_name() }});\n        {{ this.get_name() }}.setHeading({{ this.heading }});\n    \"\"\"\n        )\n    assert normalize(tmpl.render(this=bm1)) in out\n\ntest_boat_marker_with_no_wind_speed_or_heading()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_boat_marker.py"}, {"test_code": "from jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_semicircle():\n    m = folium.Map([30.0, 0.0], zoom_start=3)\n    sc1 = plugins.SemiCircle((34, -43), radius=400000, arc=300, direction=\n        20, color='red', fill_color='red', opacity=0, popup=\n        'Direction - 20 degrees, arc 300 degrees')\n    sc2 = plugins.SemiCircle((46, -30), radius=400000, start_angle=10,\n        stop_angle=50, color='red', fill_color='red', opacity=0, popup=\n        'Start angle - 10 degrees, Stop angle - 50 degrees')\n    m.add_child(sc1)\n    m.add_child(sc2)\n    m._repr_html_()\n    out = normalize(m._parent.render())\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/npm/leaflet-semicircle@2.0.4/Semicircle.min.js\"></script>'\n        )\n    assert script in out\n    tmpl_sc1 = Template(\n        \"\"\"\n        var {{ this.get_name() }} = L.semiCircle(\n        {{ this.location|tojson }},\n        {{ this.options | tojson }}\n        )\n            .setDirection{{ this.direction }}\n        .addTo({{ this._parent.get_name() }});\n    \"\"\"\n        )\n    tmpl_sc2 = Template(\n        \"\"\"\n        var {{ this.get_name() }} = L.semiCircle(\n        {{ this.location|tojson }},\n        {{ this.options | tojson }}\n        )\n        .addTo({{ this._parent.get_name() }});\n    \"\"\"\n        )\n    assert normalize(tmpl_sc1.render(this=sc1)) in out\n    assert normalize(tmpl_sc2.render(this=sc2)) in out\n    bounds = m.get_bounds()\n    assert bounds == [[34, -43], [46, -30]], bounds\n\ntest_semicircle()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_semicircle.py"}, {"test_code": "import random\nimport numpy as np\nfrom jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_tag_filter_button():\n    np.random.seed(3141592)\n    initial_data = np.random.normal(size=(100, 2)) * np.array([[1, 1]]\n        ) + np.array([[48, 5]])\n    n = 5\n    categories = [f'category{i + 1}' for i in range(n)]\n    category_column = [random.choice(categories) for i in range(len(\n        initial_data))]\n    m = folium.Map([48.0, 5.0], zoom_start=6)\n    for i, latlng in enumerate(initial_data):\n        category = category_column[i]\n        folium.Marker(tuple(latlng), tags=[category]).add_to(m)\n    hm = plugins.TagFilterButton(categories).add_to(m)\n    out = normalize(m._parent.render())\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/npm/leaflet-tag-filter-button/src/leaflet-tag-filter-button.js\"></script>'\n        )\n    assert script in out\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js\"></script>'\n        )\n    assert script in out\n    script = (\n        '<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/leaflet-tag-filter-button/src/leaflet-tag-filter-button.css\"/>'\n        )\n    assert script in out\n    script = (\n        '<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css\"/>'\n        )\n    assert script in out\n    script = (\n        '<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/css-ripple-effect@1.0.5/dist/ripple.min.css\"/>'\n        )\n    assert script in out\n    tmpl = Template(\n        \"\"\"\n            var {{this.get_name()}} = L.control.tagFilterButton(\n                {\n                    data: {{this.options.data}},\n                    icon: \"{{this.options.icon}}\",\n                    clearText: {{this.options.clear_text}},\n                    filterOnEveryClick: {{this.options.filter_on_every_click}},\n                    openPopupOnHover: {{this.options.open_popup_on_hover}}\n                    })\n                .addTo({{this._parent.get_name()}});\n    \"\"\"\n        )\n    assert normalize(tmpl.render(this=hm))\n\ntest_tag_filter_button()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_tag_filter_button.py"}, {"test_code": "import numpy as np\nimport pytest\nfrom jinja2 import Template\nimport folium\nfrom folium.plugins import HeatMap\nfrom folium.utilities import normalize\ndef test_heat_map():\n    np.random.seed(3141592)\n    data = np.random.normal(size=(100, 2)) * np.array([[1, 1]]) + np.array([\n        [48, 5]])\n    m = folium.Map([48.0, 5.0], zoom_start=6)\n    hm = HeatMap(data)\n    m.add_child(hm)\n    m._repr_html_()\n    out = normalize(m._parent.render())\n    script = (\n        '<script src=\"https://cdn.jsdelivr.net/gh/python-visualization/folium@main/folium/templates/leaflet_heat.min.js\"></script>'\n        )\n    assert script in out\n    tmpl = Template(\n        \"\"\"\n            var {{this.get_name()}} = L.heatLayer(\n                {{this.data}},\n                {\n                    minOpacity: {{this.min_opacity}},\n                    maxZoom: {{this.max_zoom}},\n                    radius: {{this.radius}},\n                    blur: {{this.blur}},\n                    gradient: {{this.gradient}}\n                    })\n                .addTo({{this._parent.get_name()}});\n    \"\"\"\n        )\n    assert tmpl.render(this=hm)\n    bounds = m.get_bounds()\n    np.testing.assert_allclose(bounds, [[46.218566840847025, \n        3.0302801394447734], [50.75345011431167, 7.132453997672826]])\n\ntest_heat_map()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_heat_map.py"}, {"test_code": "import json\nimport folium\nfrom folium.plugins import VectorGridProtobuf\nfrom folium.utilities import normalize\ndef test_vectorgrid():\n    m = folium.Map(location=(30, 20), zoom_start=4)\n    url = (\n        'https://free-{s}.tilehosting.com/data/v3/{z}/{x}/{y}.pbf?token={token}'\n        )\n    vc = VectorGridProtobuf(url, 'test').add_to(m)\n    out = normalize(m._parent.render())\n    expected = normalize(VectorGridProtobuf._template.render(this=vc))\n    assert expected in out\n    script = f'<script src=\"{VectorGridProtobuf.default_js[0][1]}\"></script>'\n    assert script in out\n    assert url in out\n    assert 'L.vectorGrid.protobuf' in out\n\ntest_vectorgrid()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_vectorgrid_protobuf.py"}, {"test_code": "import json\nimport folium\nfrom folium.plugins import VectorGridProtobuf\nfrom folium.utilities import normalize\ndef test_vectorgrid_str_options():\n    m = folium.Map(location=(30, 20), zoom_start=4)\n    url = (\n        'https://free-{s}.tilehosting.com/data/v3/{z}/{x}/{y}.pbf?token={token}'\n        )\n    options = \"\"\"{\n        \"subdomain\": \"test\",\n        \"token\": \"test_token\",\n        \"vectorTileLayerStyles\": {\n            \"all\": {\n                \"fill\": true,\n                \"weight\": 1,\n                \"fillColor\": \"green\",\n                \"color\": \"black\",\n                \"fillOpacity\": 0.6,\n                \"opacity\": 0.6\n                }\n            }\n        }\"\"\"\n    vc = VectorGridProtobuf(url, 'test', options)\n    m.add_child(vc)\n    dict_options = json.loads(options)\n    out = normalize(m._parent.render())\n    script = f'<script src=\"{VectorGridProtobuf.default_js[0][1]}\"></script>'\n    assert script in out\n    assert url in out\n    assert 'L.vectorGrid.protobuf' in out\n    assert '\"token\": \"test_token\"' in out\n    assert '\"subdomain\": \"test\"' in out\n    for k, v in dict_options['vectorTileLayerStyles']['all'].items():\n        if type(v) == bool:\n            assert f'\"{k}\": {str(v).lower()}' in out\n            continue\n        if type(v) == str:\n            assert f'\"{k}\": \"{v}\"' in out\n            continue\n        assert f'\"{k}\": {v}' in out\n\ntest_vectorgrid_str_options()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_vectorgrid_protobuf.py"}, {"test_code": "import json\nimport folium\nfrom folium.plugins import VectorGridProtobuf\nfrom folium.utilities import normalize\ndef test_vectorgrid_dict_options():\n    m = folium.Map(location=(30, 20), zoom_start=4)\n    url = (\n        'https://free-{s}.tilehosting.com/data/v3/{z}/{x}/{y}.pbf?token={token}'\n        )\n    options = {'subdomain': 'test', 'token': 'test_token',\n        'vectorTileLayerStyles': {'all': {'fill': True, 'weight': 1,\n        'fillColor': 'grey', 'color': 'purple', 'fillOpacity': 0.3,\n        'opacity': 0.6}}}\n    vc = VectorGridProtobuf(url, 'test', options)\n    m.add_child(vc)\n    out = normalize(m._parent.render())\n    script = f'<script src=\"{VectorGridProtobuf.default_js[0][1]}\"></script>'\n    assert script in out\n    assert url in out\n    assert 'L.vectorGrid.protobuf' in out\n    assert '\"token\": \"test_token\"' in out\n    assert '\"subdomain\": \"test\"' in out\n    for k, v in options['vectorTileLayerStyles']['all'].items():\n        if type(v) == bool:\n            assert f'\"{k}\": {str(v).lower()}' in out\n            continue\n        if type(v) == str:\n            assert f'\"{k}\": \"{v}\"' in out\n            continue\n        assert f'\"{k}\": {v}' in out\n\ntest_vectorgrid_dict_options()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_vectorgrid_protobuf.py"}, {"test_code": "import folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_minimap():\n    m = folium.Map(location=(30, 20), zoom_start=4)\n    minimap = plugins.MiniMap()\n    m.add_child(minimap)\n    out = normalize(m._parent.render())\n    assert 'new L.Control.MiniMap' in out\n    m = folium.Map(tiles=None, location=(30, 20), zoom_start=4)\n    minimap = plugins.MiniMap()\n    minimap.add_to(m)\n    out = normalize(m._parent.render())\n    assert 'https://tile.openstreetmap.org' in out\n\ntest_minimap()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_minimap.py"}, {"test_code": "from jinja2 import Template\nimport folium\nfrom folium import plugins\nfrom folium.utilities import normalize\ndef test_float_image():\n    m = folium.Map([45.0, 3.0], zoom_start=4)\n    url = (\n        'https://raw.githubusercontent.com/SECOORA/static_assets/master/maps/img/rose.png'\n        )\n    szt = plugins.FloatImage(url, bottom=60, left=70, width='20%')\n    m.add_child(szt)\n    m._repr_html_()\n    out = normalize(m._parent.render())\n    tmpl = Template(\n        \"\"\"\n        <img id=\"{{this.get_name()}}\" alt=\"float_image\"\n        src=\"https://raw.githubusercontent.com/SECOORA/static_assets/master/maps/img/rose.png\"\n        style=\"z-index: 999999\">\n        </img>\n    \"\"\"\n        )\n    assert normalize(tmpl.render(this=szt)) in out\n    tmpl = Template(\n        \"\"\"\n        <style>\n            #{{this.get_name()}} {\n                position: absolute;\n                bottom: 60%;\n                left: 70%;\n                width: 20%;\n                }\n        </style>\n    \"\"\"\n        )\n    assert normalize(tmpl.render(this=szt)) in out\n    bounds = m.get_bounds()\n    assert bounds == [[None, None], [None, None]], bounds\n\ntest_float_image()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/plugins/test_float_image.py"}], "instruction": "Functionality: The function 'normalize' is designed to cleanse a string by removing all non-functional spaces and newlines. This ensures that the string is in a uniform and compact format, which is particularly useful for comparing strings that may have been rendered with different spacing or newline conventions.\n\nInputs: \n- rendered: A string. This is the input string that needs to be normalized. It could contain spaces, tabs, and newlines that are not necessary for the functionality of the string.\n\nOutputs: \n- A string. This is the normalized version of the input string. All unnecessary spaces and newlines are removed, and the string is condensed into a single line if it was originally split across multiple lines. Commas followed by spaces are replaced with commas only.", "method_code_mask": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\n\n\ndef normalize(rendered: str) ->str: [MASK]\n"}
{"method_name": "if_pandas_df_convert_to_numpy", "full_method_name": "if_pandas_df_convert_to_numpy", "method_path": "../srcdata/Visualization/folium/folium/utilities.py", "method_code": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\ndef if_pandas_df_convert_to_numpy(obj: Any) ->Any:\n    \"\"\"Return a Numpy array from a Pandas dataframe.\n\n    Iterating over a DataFrame has weird side effects, such as the first\n    row being the column names. Converting to Numpy is more safe.\n    \"\"\"\n    if pd is not None and isinstance(obj, pd.DataFrame):\n        return obj.values\n    else:\n        return obj", "test_code_list": [{"test_code": "import numpy as np\nimport pandas as pd\nimport pytest\nfrom folium import FeatureGroup\nfrom folium import Map\nfrom folium import Marker\nfrom folium import Popup\nfrom folium.utilities import JsCode\nfrom folium.utilities import _is_url\nfrom folium.utilities import camelize\nfrom folium.utilities import deep_copy\nfrom folium.utilities import escape_double_quotes\nfrom folium.utilities import get_obj_in_upper_tree\nfrom folium.utilities import if_pandas_df_convert_to_numpy\nfrom folium.utilities import javascript_identifier_path_to_array_notation\nfrom folium.utilities import parse_font_size\nfrom folium.utilities import parse_options\nfrom folium.utilities import validate_location\nfrom folium.utilities import validate_locations\nfrom folium.utilities import validate_multi_locations\ndef test_if_pandas_df_convert_to_numpy():\n    data = [[0, 5, 'red'], [1, 6, 'blue'], [2, 7, 'something']]\n    df = pd.DataFrame(data, columns=['lat', 'lng', 'color'])\n    res = if_pandas_df_convert_to_numpy(df)\n    assert isinstance(res, np.ndarray)\n    expected = np.array(data)\n    assert all([[all([i == j]) for i, j in zip(row1, row2)] for row1, row2 in\n        zip(res, expected)])\n    assert if_pandas_df_convert_to_numpy(data) is data\n    assert if_pandas_df_convert_to_numpy(expected) is expected\n\ntest_if_pandas_df_convert_to_numpy()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_utilities.py"}], "instruction": "Functionality: This function checks if the input object is a Pandas DataFrame. If it is, the function converts the DataFrame into a Numpy array and returns the array. If the input is not a Pandas DataFrame, it returns the input object as is.\n\nInputs: \n- obj: Any type of object which could potentially be a Pandas DataFrame. This input is to be checked and possibly converted.\n\nOutputs: \n- Any: The output is of any type. If the input was a Pandas DataFrame, it returns a Numpy array. Otherwise, it returns the input object unchanged.", "method_code_mask": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\n\n\ndef if_pandas_df_convert_to_numpy(obj: Any) ->Any: [MASK]\n"}
{"method_name": "camelize", "full_method_name": "camelize", "method_path": "../srcdata/Visualization/folium/folium/utilities.py", "method_code": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\ndef camelize(key: str) ->str:\n    \"\"\"Convert a python_style_variable_name to lowerCamelCase.\n\n    Examples\n    --------\n    >>> camelize(\"variable_name\")\n    'variableName'\n    >>> camelize(\"variableName\")\n    'variableName'\n    \"\"\"\n    return ''.join(x.capitalize() if i > 0 else x for i, x in enumerate(key\n        .split('_')))", "test_code_list": [{"test_code": "import numpy as np\nimport pandas as pd\nimport pytest\nfrom folium import FeatureGroup\nfrom folium import Map\nfrom folium import Marker\nfrom folium import Popup\nfrom folium.utilities import JsCode\nfrom folium.utilities import _is_url\nfrom folium.utilities import camelize\nfrom folium.utilities import deep_copy\nfrom folium.utilities import escape_double_quotes\nfrom folium.utilities import get_obj_in_upper_tree\nfrom folium.utilities import if_pandas_df_convert_to_numpy\nfrom folium.utilities import javascript_identifier_path_to_array_notation\nfrom folium.utilities import parse_font_size\nfrom folium.utilities import parse_options\nfrom folium.utilities import validate_location\nfrom folium.utilities import validate_locations\nfrom folium.utilities import validate_multi_locations\ndef test_camelize():\n    assert camelize('variable_name') == 'variableName'\n    assert camelize('variableName') == 'variableName'\n    assert camelize('name') == 'name'\n    assert camelize('very_long_variable_name') == 'veryLongVariableName'\n\ntest_camelize()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_utilities.py"}], "instruction": "Functionality: The camelize function is designed to convert a string from snake_case (python_style_variable_name) to lowerCamelCase. This is commonly used when converting between different programming style conventions, particularly when interfacing with systems that favor camelCase notation.\n\nInputs: \n- key: A string in snake_case format. The string consists of lowercase letters and underscores ('_') that separate words.\n\nOutputs:\n- A string in lowerCamelCase format. The first word remains in lowercase, and the first letter of each subsequent word is capitalized. All underscores are removed.", "method_code_mask": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\n\n\ndef camelize(key: str) ->str: [MASK]\n"}
{"method_name": "deep_copy", "full_method_name": "deep_copy", "method_path": "../srcdata/Visualization/folium/folium/utilities.py", "method_code": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\ndef deep_copy(item_original: Element) ->Element:\n    \"\"\"Return a recursive deep-copy of item where each copy has a new ID.\"\"\"\n    item = copy.copy(item_original)\n    item._id = uuid.uuid4().hex\n    if hasattr(item, '_children') and len(item._children) > 0:\n        children_new = collections.OrderedDict()\n        for subitem_original in item._children.values():\n            subitem = deep_copy(subitem_original)\n            subitem._parent = item\n            children_new[subitem.get_name()] = subitem\n        item._children = children_new\n    return item", "test_code_list": [{"test_code": "import numpy as np\nimport pandas as pd\nimport pytest\nfrom folium import FeatureGroup\nfrom folium import Map\nfrom folium import Marker\nfrom folium import Popup\nfrom folium.utilities import JsCode\nfrom folium.utilities import _is_url\nfrom folium.utilities import camelize\nfrom folium.utilities import deep_copy\nfrom folium.utilities import escape_double_quotes\nfrom folium.utilities import get_obj_in_upper_tree\nfrom folium.utilities import if_pandas_df_convert_to_numpy\nfrom folium.utilities import javascript_identifier_path_to_array_notation\nfrom folium.utilities import parse_font_size\nfrom folium.utilities import parse_options\nfrom folium.utilities import validate_location\nfrom folium.utilities import validate_locations\nfrom folium.utilities import validate_multi_locations\ndef test_deep_copy():\n    m = Map()\n    fg = FeatureGroup().add_to(m)\n    Marker(location=(0, 0)).add_to(fg)\n    m_copy = deep_copy(m)\n\n    def check(item, item_copy):\n        assert type(item) is type(item_copy)\n        assert item._name == item_copy._name\n        for attr in item.__dict__.keys():\n            if not attr.startswith('_'):\n                assert getattr(item, attr) == getattr(item_copy, attr)\n        assert item is not item_copy\n        assert item._id != item_copy._id\n        for child, child_copy in zip(item._children.values(), item_copy.\n            _children.values()):\n            check(child, child_copy)\n    check(m, m_copy)\n\ntest_deep_copy()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_utilities.py"}], "instruction": "Functionality: The function deep_copy is designed to create a complete and independent copy of a given Branca Element (or any object with a similar structure) including all its nested children. Each copied object will be assigned a new unique identifier (UUID) to ensure that the copy is distinct from the original and any other copies.\n\nInputs: \n- item_original: Element\n    An instance of the Element class or a similar object that potentially contains nested child elements. This input is the object that needs to be deeply copied.\n\nOutputs:\n- Element\n    A deep copy of the input object (item_original) with a new unique identifier and with all its nested children also being deep copied and assigned new unique identifiers. This copy is completely independent of the original object and can be modified without affecting the original or any other copies.", "method_code_mask": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\n\n\ndef deep_copy(item_original: Element) ->Element: [MASK]\n"}
{"method_name": "get_obj_in_upper_tree", "full_method_name": "get_obj_in_upper_tree", "method_path": "../srcdata/Visualization/folium/folium/utilities.py", "method_code": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\ndef get_obj_in_upper_tree(element: Element, cls: Type) ->Element:\n    \"\"\"Return the first object in the parent tree of class `cls`.\"\"\"\n    parent = element._parent\n    if parent is None:\n        raise ValueError(\n            f'The top of the tree was reached without finding a {cls}')\n    if not isinstance(parent, cls):\n        return get_obj_in_upper_tree(parent, cls)\n    return parent", "test_code_list": [{"test_code": "import numpy as np\nimport pandas as pd\nimport pytest\nfrom folium import FeatureGroup\nfrom folium import Map\nfrom folium import Marker\nfrom folium import Popup\nfrom folium.utilities import JsCode\nfrom folium.utilities import _is_url\nfrom folium.utilities import camelize\nfrom folium.utilities import deep_copy\nfrom folium.utilities import escape_double_quotes\nfrom folium.utilities import get_obj_in_upper_tree\nfrom folium.utilities import if_pandas_df_convert_to_numpy\nfrom folium.utilities import javascript_identifier_path_to_array_notation\nfrom folium.utilities import parse_font_size\nfrom folium.utilities import parse_options\nfrom folium.utilities import validate_location\nfrom folium.utilities import validate_locations\nfrom folium.utilities import validate_multi_locations\ndef test_get_obj_in_upper_tree():\n    m = Map()\n    fg = FeatureGroup().add_to(m)\n    marker = Marker(location=(0, 0)).add_to(fg)\n    assert get_obj_in_upper_tree(marker, FeatureGroup) is fg\n    assert get_obj_in_upper_tree(marker, Map) is m\n    with pytest.raises(ValueError):\n        assert get_obj_in_upper_tree(fg, Marker)\n    with pytest.raises(ValueError):\n        assert get_obj_in_upper_tree(marker, Popup)\n\ntest_get_obj_in_upper_tree()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_utilities.py"}], "instruction": "Functionality: The function 'get_obj_in_upper_tree' is designed to traverse the parent tree of a given element (which is an instance of the 'Element' class) to find the first ancestor that is an instance of a specified class 'cls'. It performs a depth-first search towards the root of the tree until it finds an ancestor that matches the given class or raises an exception if the top of the tree is reached without finding such an ancestor.\n\nInputs:\n- element: An instance of the 'Element' class. This is the starting point for the search.\n- cls: The class type that the function is searching for in the parent tree.\n\nOutputs:\n- Returns an instance of the class 'cls' that is found in the parent tree. This is the first ancestor of the 'element' that matches the given class 'cls'.\n- If the top of the tree is reached without finding any ancestor matching the class 'cls', the function raises a ValueError with a message indicating that the specified class was not found in the tree.", "method_code_mask": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\n\n\ndef get_obj_in_upper_tree(element: Element, cls: Type) ->Element: [MASK]\n"}
{"method_name": "parse_options", "full_method_name": "parse_options", "method_path": "../srcdata/Visualization/folium/folium/utilities.py", "method_code": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\nTypeJsonValueNoNone = Union[str, float, bool, Sequence, dict]\nTypeJsonValue = Union[TypeJsonValueNoNone, None]\ndef parse_options(**kwargs: TypeJsonValue) ->Dict[str, TypeJsonValueNoNone]:\n    \"\"\"Return a dict with lower-camelcase keys and non-None values..\"\"\"\n    return {camelize(key): value for key, value in kwargs.items() if value\n         is not None}", "test_code_list": [{"test_code": "import numpy as np\nimport pandas as pd\nimport pytest\nfrom folium import FeatureGroup\nfrom folium import Map\nfrom folium import Marker\nfrom folium import Popup\nfrom folium.utilities import JsCode\nfrom folium.utilities import _is_url\nfrom folium.utilities import camelize\nfrom folium.utilities import deep_copy\nfrom folium.utilities import escape_double_quotes\nfrom folium.utilities import get_obj_in_upper_tree\nfrom folium.utilities import if_pandas_df_convert_to_numpy\nfrom folium.utilities import javascript_identifier_path_to_array_notation\nfrom folium.utilities import parse_font_size\nfrom folium.utilities import parse_options\nfrom folium.utilities import validate_location\nfrom folium.utilities import validate_locations\nfrom folium.utilities import validate_multi_locations\ndef test_parse_options():\n    assert parse_options(thing=42) == {'thing': 42}\n    assert parse_options(thing=None) == {}\n    assert parse_options(long_thing=42) == {'longThing': 42}\n    assert parse_options(thing=42, lst=[1, 2]) == {'thing': 42, 'lst': [1, 2]}\n\ntest_parse_options()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_utilities.py"}], "instruction": "Functionality: The parse_options function processes input keyword arguments to filter out None values and converts the keys to lower-camelcase format. It is designed to generate a dictionary with keys in lower-camelcase and values that are not None.\n\nInputs: \n- **kwargs: TypeJsonValue** - A variable number of keyword arguments, where each value can be a string, float, boolean, sequence, dictionary, or None.\n\nOutputs:\n- Dict[str, TypeJsonValueNoNone] - A dictionary where the keys are strings in lower-camelcase format and the values are either a string, float, boolean, sequence, or dictionary (values that would be None are excluded).", "method_code_mask": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\nTypeJsonValueNoNone = Union[str, float, bool, Sequence, dict]\nTypeJsonValue = Union[TypeJsonValueNoNone, None]\n\n\ndef parse_options(**kwargs: TypeJsonValue) ->Dict[str, TypeJsonValueNoNone]: [M\n    ASK]\n"}
{"method_name": "get_bounds", "full_method_name": "get_bounds", "method_path": "../srcdata/Visualization/folium/folium/utilities.py", "method_code": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\ndef get_bounds(locations: Any, lonlat: bool=False) ->List[List[Optional[float]]\n    ]:\n    \"\"\"\n    Computes the bounds of the object in the form\n    [[lat_min, lon_min], [lat_max, lon_max]]\n\n    \"\"\"\n    bounds: List[List[Optional[float]]] = [[None, None], [None, None]]\n    for point in iter_coords(locations):\n        bounds = [[none_min(bounds[0][0], point[0]), none_min(bounds[0][1],\n            point[1])], [none_max(bounds[1][0], point[0]), none_max(bounds[\n            1][1], point[1])]]\n    if lonlat:\n        bounds = _locations_mirror(bounds)\n    return bounds", "test_code_list": [{"test_code": "import json\nfrom folium import Map\nfrom folium.utilities import get_bounds\nfrom folium.utilities import normalize\nfrom folium.vector_layers import Circle\nfrom folium.vector_layers import CircleMarker\nfrom folium.vector_layers import Polygon\nfrom folium.vector_layers import PolyLine\nfrom folium.vector_layers import Rectangle\nfrom folium.vector_layers import path_options\ndef test_polygon_marker():\n    m = Map()\n    locations = [[35.6636, 139.7634], [35.6629, 139.7664], [35.6663, \n        139.7706], [35.6725, 139.7632], [35.6728, 139.7627], [35.672, \n        139.7606], [35.6682, 139.7588], [35.6663, 139.7627]]\n    polygon = Polygon(locations=locations, popup='I am a polygon')\n    polygon.add_to(m)\n    expected_options = {'bubblingMouseEvents': True, 'color': '#3388ff',\n        'dashArray': None, 'dashOffset': None, 'fill': False, 'fillColor':\n        '#3388ff', 'fillOpacity': 0.2, 'fillRule': 'evenodd', 'lineCap':\n        'round', 'lineJoin': 'round', 'noClip': False, 'opacity': 1.0,\n        'smoothFactor': 1.0, 'stroke': True, 'weight': 3}\n    m._repr_html_()\n    expected_rendered = f\"\"\"\n    var {polygon.get_name()} = L.polygon(\n    {locations},\n    {{\n    \"bubblingMouseEvents\": true,\n    \"color\": \"#3388ff\",\n    \"dashArray\": null,\n    \"dashOffset\": null,\n    \"fill\": false,\n    \"fillColor\": \"#3388ff\",\n    \"fillOpacity\": 0.2,\n    \"fillRule\": \"evenodd\",\n    \"lineCap\": \"round\",\n    \"lineJoin\": \"round\",\n    \"noClip\": false,\n    \"opacity\": 1.0,\n    \"smoothFactor\": 1.0,\n    \"stroke\": true,\n    \"weight\": 3\n    }}\n    )\n    .addTo({m.get_name()});\n    \"\"\"\n    rendered = polygon._template.module.script(polygon)\n    assert normalize(rendered) == normalize(expected_rendered)\n    assert polygon.get_bounds() == get_bounds(locations)\n    assert json.dumps(polygon.to_dict()) == polygon.to_json()\n    assert polygon.options == expected_options\n\ntest_polygon_marker()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_vector_layers.py"}, {"test_code": "import json\nfrom folium import Map\nfrom folium.utilities import get_bounds\nfrom folium.utilities import normalize\nfrom folium.vector_layers import Circle\nfrom folium.vector_layers import CircleMarker\nfrom folium.vector_layers import Polygon\nfrom folium.vector_layers import PolyLine\nfrom folium.vector_layers import Rectangle\nfrom folium.vector_layers import path_options\ndef test_polyline():\n    m = Map()\n    locations = [[40.0, -80.0], [45.0, -80.0]]\n    polyline = PolyLine(locations=locations, popup='I am PolyLine')\n    polyline.add_to(m)\n    expected_options = {'smoothFactor': 1.0, 'noClip': False,\n        'bubblingMouseEvents': True, 'color': '#3388ff', 'dashArray': None,\n        'dashOffset': None, 'fill': False, 'fillColor': '#3388ff',\n        'fillOpacity': 0.2, 'fillRule': 'evenodd', 'lineCap': 'round',\n        'lineJoin': 'round', 'opacity': 1.0, 'stroke': True, 'weight': 3}\n    m._repr_html_()\n    expected_rendered = f\"\"\"\n    var {polyline.get_name()} = L.polyline(\n    {locations},\n    {{\n    \"bubblingMouseEvents\": true,\n    \"color\": \"#3388ff\",\n    \"dashArray\": null,\n    \"dashOffset\": null,\n    \"fill\": false,\n    \"fillColor\": \"#3388ff\",\n    \"fillOpacity\": 0.2,\n    \"fillRule\": \"evenodd\",\n    \"lineCap\": \"round\",\n    \"lineJoin\": \"round\",\n    \"noClip\": false,\n    \"opacity\": 1.0,\n    \"smoothFactor\": 1.0,\n    \"stroke\": true,\n    \"weight\": 3\n    }}\n    )\n    .addTo({m.get_name()});\n    \"\"\"\n    rendered = polyline._template.module.script(polyline)\n    assert normalize(rendered) == normalize(expected_rendered)\n    assert polyline.get_bounds() == get_bounds(locations)\n    assert json.dumps(polyline.to_dict()) == polyline.to_json()\n    assert polyline.options == expected_options\n\ntest_polyline()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_vector_layers.py"}, {"test_code": "import json\nfrom folium import Map\nfrom folium.utilities import get_bounds\nfrom folium.utilities import normalize\nfrom folium.vector_layers import Circle\nfrom folium.vector_layers import CircleMarker\nfrom folium.vector_layers import Polygon\nfrom folium.vector_layers import PolyLine\nfrom folium.vector_layers import Rectangle\nfrom folium.vector_layers import path_options\ndef test_mulyipolyline():\n    m = Map()\n    locations = [[[45.51, -122.68], [37.77, -122.43], [34.04, -118.2]], [[\n        40.78, -73.91], [41.83, -87.62], [32.76, -96.72]]]\n    multipolyline = PolyLine(locations=locations, popup='MultiPolyLine')\n    multipolyline.add_to(m)\n    expected_options = {'smoothFactor': 1.0, 'noClip': False,\n        'bubblingMouseEvents': True, 'color': '#3388ff', 'dashArray': None,\n        'dashOffset': None, 'fill': False, 'fillColor': '#3388ff',\n        'fillOpacity': 0.2, 'fillRule': 'evenodd', 'lineCap': 'round',\n        'lineJoin': 'round', 'opacity': 1.0, 'stroke': True, 'weight': 3}\n    m._repr_html_()\n    expected_rendered = f\"\"\"\n    var {multipolyline.get_name()} = L.polyline(\n    {locations},\n    {{\n    \"bubblingMouseEvents\": true,\n    \"color\": \"#3388ff\",\n    \"dashArray\": null,\n    \"dashOffset\": null,\n    \"fill\": false,\n    \"fillColor\": \"#3388ff\",\n    \"fillOpacity\": 0.2,\n    \"fillRule\": \"evenodd\",\n    \"lineCap\": \"round\",\n    \"lineJoin\": \"round\",\n    \"noClip\": false,\n    \"opacity\": 1.0,\n    \"smoothFactor\": 1.0,\n    \"stroke\": true,\n    \"weight\": 3\n    }}\n    )\n    .addTo({m.get_name()});\n    \"\"\"\n    rendered = multipolyline._template.module.script(multipolyline)\n    assert normalize(rendered) == normalize(expected_rendered)\n    assert multipolyline.get_bounds() == get_bounds(locations)\n    assert json.dumps(multipolyline.to_dict()) == multipolyline.to_json()\n    assert multipolyline.options == expected_options\n\ntest_mulyipolyline()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_vector_layers.py"}], "instruction": "locations = [[40.7128, -74.0060], [34.0522, -118.2437]]\nbounds = get_bounds(locations)\nprint(bounds)  # Output: [[34.0522, -118.2437], [40.7128, -74.0060]]", "method_code_mask": "import base64\nimport collections\nimport copy\nimport json\nimport math\nimport os\nimport re\nimport tempfile\nimport uuid\nfrom contextlib import contextmanager\nfrom typing import Any\nfrom typing import Callable\nfrom typing import Dict\nfrom typing import Iterable\nfrom typing import Iterator\nfrom typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Tuple\nfrom typing import Type\nfrom typing import Union\nfrom urllib.parse import urlparse\nfrom urllib.parse import uses_netloc\nfrom urllib.parse import uses_params\nfrom urllib.parse import uses_relative\nimport numpy as np\nfrom branca.element import Element\nfrom branca.element import Figure\nfrom branca.utilities import _locations_mirror\nfrom branca.utilities import _parse_size\nfrom branca.utilities import none_max\nfrom branca.utilities import none_min\nfrom branca.utilities import write_png\nimport pandas as pd\n\n\ndef get_bounds(locations: Any, lonlat: bool=False) ->List[List[Optional[float]]\n    ]: [MASK]\n"}
{"method_name": "path_options", "full_method_name": "path_options", "method_path": "../srcdata/Visualization/folium/folium/vector_layers.py", "method_code": "from typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Union\nfrom branca.element import MacroElement\nfrom jinja2 import Template\nfrom folium.map import Marker\nfrom folium.map import Popup\nfrom folium.map import Tooltip\nfrom folium.utilities import TypeLine\nfrom folium.utilities import TypeMultiLine\nfrom folium.utilities import TypePathOptions\nfrom folium.utilities import camelize\nfrom folium.utilities import get_bounds\nfrom folium.utilities import validate_locations\nfrom folium.utilities import validate_multi_locations\ndef path_options(line: bool=False, radius: Optional[float]=None, **kwargs:\n    TypePathOptions):\n    \"\"\"\n    Contains options and constants shared between vector overlays\n    (Polygon, Polyline, Circle, CircleMarker, and Rectangle).\n\n    Parameters\n    ----------\n    stroke: Bool, True\n        Whether to draw stroke along the path.\n        Set it to false to disable borders on polygons or circles.\n    color: str, '#3388ff'\n        Stroke color.\n    weight: int, 3\n        Stroke width in pixels.\n    opacity: float, 1.0\n        Stroke opacity.\n    line_cap: str, 'round' (lineCap)\n        A string that defines shape to be used at the end of the stroke.\n        https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-linecap\n    line_join: str, 'round' (lineJoin)\n        A string that defines shape to be used at the corners of the stroke.\n        https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-linejoin\n    dash_array: str, None (dashArray)\n        A string that defines the stroke dash pattern.\n        Doesn't work on Canvas-powered layers in some old browsers.\n        https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dasharray\n    dash_offset:, str, None (dashOffset)\n        A string that defines the distance into the dash pattern to start the dash.\n        Doesn't work on Canvas-powered layers in some old browsers.\n        https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dashoffset\n    fill: Bool, False\n        Whether to fill the path with color.\n        Set it to false to disable filling on polygons or circles.\n    fill_color: str, default to `color` (fillColor)\n        Fill color. Defaults to the value of the color option.\n    fill_opacity: float, 0.2 (fillOpacity)\n        Fill opacity.\n    fill_rule: str, 'evenodd' (fillRule)\n        A string that defines how the inside of a shape is determined.\n        https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule\n    bubbling_mouse_events: Bool, True (bubblingMouseEvents)\n        When true a mouse event on this path will trigger the same event on the\n        map (unless L.DomEvent.stopPropagation is used).\n    gradient: bool, default None\n        When a gradient on the stroke and fill is available,\n        allows turning it on or off.\n\n    Note that the presence of `fill_color` will override `fill=False`.\n\n    This function accepts both snake_case and lowerCamelCase equivalents.\n\n    See https://leafletjs.com/reference.html#path\n\n    \"\"\"\n    kwargs = {camelize(key): value for key, value in kwargs.items()}\n    extra_options = {}\n    if line:\n        extra_options = {'smoothFactor': kwargs.pop('smoothFactor', 1.0),\n            'noClip': kwargs.pop('noClip', False)}\n    if radius:\n        extra_options.update({'radius': radius})\n    color = kwargs.pop('color', '#3388ff')\n    fill_color = kwargs.pop('fillColor', False)\n    if fill_color:\n        fill = True\n    elif not fill_color:\n        fill_color = color\n        fill = kwargs.pop('fill', False)\n    gradient = kwargs.pop('gradient', None)\n    if gradient is not None:\n        extra_options.update({'gradient': gradient})\n    if kwargs.get('tags'):\n        extra_options['tags'] = kwargs.pop('tags')\n    default = {'stroke': kwargs.pop('stroke', True), 'color': color,\n        'weight': kwargs.pop('weight', 3), 'opacity': kwargs.pop('opacity',\n        1.0), 'lineCap': kwargs.pop('lineCap', 'round'), 'lineJoin': kwargs\n        .pop('lineJoin', 'round'), 'dashArray': kwargs.pop('dashArray',\n        None), 'dashOffset': kwargs.pop('dashOffset', None), 'fill': fill,\n        'fillColor': fill_color, 'fillOpacity': kwargs.pop('fillOpacity', \n        0.2), 'fillRule': kwargs.pop('fillRule', 'evenodd'),\n        'bubblingMouseEvents': kwargs.pop('bubblingMouseEvents', True)}\n    default.update(extra_options)\n    return default", "test_code_list": [{"test_code": "import json\nfrom folium import Map\nfrom folium.utilities import get_bounds\nfrom folium.utilities import normalize\nfrom folium.vector_layers import Circle\nfrom folium.vector_layers import CircleMarker\nfrom folium.vector_layers import Polygon\nfrom folium.vector_layers import PolyLine\nfrom folium.vector_layers import Rectangle\nfrom folium.vector_layers import path_options\ndef test_path_options_lower_camel_case():\n    options = path_options(fill_color='red', fillOpacity=0.3)\n    assert options['fillColor'] == 'red'\n    assert options['fillOpacity'] == 0.3\n\ntest_path_options_lower_camel_case()\n", "code_start": "", "test_path": "../srcdata/Visualization/folium/tests/test_vector_layers.py"}], "instruction": "Functionality: The path_options function is designed to create and return a dictionary containing styling options for vector overlays in a map visualization tool, such as those used in the leaflet.js library. This function allows for the customization of stroke, fill, and other visual properties of geometric shapes like polygons, polylines, circles, circle markers, and rectangles.\n\nInputs:\n- line: A boolean (default: False) that indicates whether the path should be treated as a line.\n- radius: An optional float that defines the radius of the circle, if the path is to be a circle.\n- **kwargs: A variable number of keyword arguments that can be used to customize the visual properties of the path, such as stroke color, fill color, line cap style, and more. These arguments can be specified in either snake_case or lowerCamelCase.\n\nOutputs:\n- A dictionary containing the styling options for the path, based on the input parameters and the default values specified in the function's documentation. The keys of this dictionary are the options' names in lowerCamelCase format. The dictionary includes properties such as stroke, color, weight (thickness), opacity, lineCap, lineJoin, dashArray, dashOffset, fill, fillColor, fillOpacity, fillRule, bubblingMouseEvents, radius (if specified), smoothFactor (for lines, if specified), noClip (for lines, if specified), and gradient (if specified).", "method_code_mask": "from typing import List\nfrom typing import Optional\nfrom typing import Sequence\nfrom typing import Union\nfrom branca.element import MacroElement\nfrom jinja2 import Template\nfrom folium.map import Marker\nfrom folium.map import Popup\nfrom folium.map import Tooltip\nfrom folium.utilities import TypeLine\nfrom folium.utilities import TypeMultiLine\nfrom folium.utilities import TypePathOptions\nfrom folium.utilities import camelize\nfrom folium.utilities import get_bounds\nfrom folium.utilities import validate_locations\nfrom folium.utilities import validate_multi_locations\n\n\ndef path_options(line: bool=False, radius: Optional[float]=None, **kwargs:\n    TypePathOptions): [MASK]\n"}
