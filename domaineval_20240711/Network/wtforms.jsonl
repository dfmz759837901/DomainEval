{"method_name": "get_form", "full_method_name": "get_form", "method_path": "../srcdata/Network/wtforms/tests/test_form.py", "method_code": "import pytest\nfrom wtforms.fields import IntegerField\nfrom wtforms.fields import StringField\nfrom wtforms.form import BaseForm\nfrom wtforms.form import Form\nfrom wtforms.meta import DefaultMeta\nfrom wtforms.validators import DataRequired\nfrom wtforms.validators import ValidationError\ndef get_form(**kwargs):\n\n    def validate_test(form, field):\n        if field.data != 'foobar':\n            raise ValidationError('error')\n    return BaseForm({'test': StringField(validators=[validate_test])}, **kwargs\n        )", "test_code_list": [{"test_code": "import pytest\nfrom wtforms.fields import IntegerField\nfrom wtforms.fields import StringField\nfrom wtforms.form import BaseForm\nfrom wtforms.form import Form\nfrom wtforms.meta import DefaultMeta\nfrom wtforms.validators import DataRequired\nfrom wtforms.validators import ValidationError\ndef test_baseform_data_proxy():\n    form = get_form()\n    form.process(test='foo')\n    assert form.data == {'test': 'foo'}\n\ntest_baseform_data_proxy()\n", "code_start": "", "test_path": "../srcdata/Network/wtforms/tests/test_form.py"}, {"test_code": "import pytest\nfrom wtforms.fields import IntegerField\nfrom wtforms.fields import StringField\nfrom wtforms.form import BaseForm\nfrom wtforms.form import Form\nfrom wtforms.meta import DefaultMeta\nfrom wtforms.validators import DataRequired\nfrom wtforms.validators import ValidationError\ndef test_baseform_errors_proxy():\n    form = get_form()\n    form.process(test='foobar')\n    form.validate()\n    assert form.errors == {}\n    form = get_form()\n    form.process()\n    form.validate()\n    assert form.errors == {'test': ['error']}\n\ntest_baseform_errors_proxy()\n", "code_start": "", "test_path": "../srcdata/Network/wtforms/tests/test_form.py"}, {"test_code": "import pytest\nfrom wtforms.fields import IntegerField\nfrom wtforms.fields import StringField\nfrom wtforms.form import BaseForm\nfrom wtforms.form import Form\nfrom wtforms.meta import DefaultMeta\nfrom wtforms.validators import DataRequired\nfrom wtforms.validators import ValidationError\ndef test_baseform_contains():\n    form = get_form()\n    assert 'test' in form\n    assert 'abcd' not in form\n\ntest_baseform_contains()\n", "code_start": "", "test_path": "../srcdata/Network/wtforms/tests/test_form.py"}, {"test_code": "import pytest\nfrom wtforms.fields import IntegerField\nfrom wtforms.fields import StringField\nfrom wtforms.form import BaseForm\nfrom wtforms.form import Form\nfrom wtforms.meta import DefaultMeta\nfrom wtforms.validators import DataRequired\nfrom wtforms.validators import ValidationError\ndef test_baseform_field_removal():\n    form = get_form()\n    del form['test']\n    with pytest.raises(AttributeError):\n        form.test\n    assert 'test' not in form\n\ntest_baseform_field_removal()\n", "code_start": "", "test_path": "../srcdata/Network/wtforms/tests/test_form.py"}, {"test_code": "import pytest\nfrom wtforms.fields import IntegerField\nfrom wtforms.fields import StringField\nfrom wtforms.form import BaseForm\nfrom wtforms.form import Form\nfrom wtforms.meta import DefaultMeta\nfrom wtforms.validators import DataRequired\nfrom wtforms.validators import ValidationError\ndef test_baseform_populate_obj():\n    m = type('Model', (object,), {})\n    form = get_form()\n    form.process(test='foobar')\n    form.populate_obj(m)\n    assert m.test == 'foobar'\n    assert [k for k in dir(m) if not k.startswith('_')] == ['test']\n\ntest_baseform_populate_obj()\n", "code_start": "", "test_path": "../srcdata/Network/wtforms/tests/test_form.py"}], "instruction": "Functionality: The function get_form is designed to create a dynamic WTForms BaseForm instance that includes a StringField named 'test'. This StringField is associated with a custom validator, validate_test, which checks if the input data for this field is 'foobar'. If the data does not match 'foobar', a ValidationError is raised with the message 'error'. The function returns the BaseForm instance configured with the provided keyword arguments.\n\nInputs: \n- **kwargs: Keyword arguments that can be used to customize the form instance. For example, 'data', 'csrf_enabled', or 'meta' can be passed to configure the form and its behavior.\n\nOutputs:\n- BaseForm: The function returns a WTForms BaseForm instance that includes a StringField 'test' with a custom validator. The returned form instance is configured with the provided keyword arguments.", "method_code_mask": "import pytest\nfrom wtforms.fields import IntegerField\nfrom wtforms.fields import StringField\nfrom wtforms.form import BaseForm\nfrom wtforms.form import Form\nfrom wtforms.meta import DefaultMeta\nfrom wtforms.validators import DataRequired\nfrom wtforms.validators import ValidationError\n\n\ndef get_form(**kwargs): [MASK]\n"}
{"method_name": "_init_field", "full_method_name": "_init_field", "method_path": "../srcdata/Network/wtforms/tests/fields/test_field.py", "method_code": "import pytest\nfrom markupsafe import Markup\nfrom wtforms import meta\nfrom wtforms import validators\nfrom wtforms.fields import Field\nfrom wtforms.fields import StringField\nfrom wtforms.form import Form\nclass PrePostTestField(StringField):\n\n    def pre_validate(self, form):\n        if self.data == 'stoponly':\n            raise validators.StopValidation()\n        elif self.data.startswith('stop'):\n            raise validators.StopValidation('stop with message')\n\n    def post_validate(self, form, stopped):\n        if self.data == 'p':\n            raise validators.ValidationError('Post')\n        elif stopped and self.data == 'stop-post':\n            raise validators.ValidationError('Post-stopped')\ndef _init_field(value):\n    class F(Form):\n        a = PrePostTestField(validators=[validators.Length(max=1, message=\n            'too long')])\n    form = F(a=value)\n    form.validate()\n    return form.a", "test_code_list": [{"test_code": "import pytest\nfrom markupsafe import Markup\nfrom wtforms import meta\nfrom wtforms import validators\nfrom wtforms.fields import Field\nfrom wtforms.fields import StringField\nfrom wtforms.form import Form\ndef test_pre_stop():\n    a = _init_field('long')\n    assert a.errors == ['too long']\n    stoponly = _init_field('stoponly')\n    assert stoponly.errors == []\n    stopmessage = _init_field('stopmessage')\n    assert stopmessage.errors == ['stop with message']\n\ntest_pre_stop()\n", "code_start": "", "test_path": "../srcdata/Network/wtforms/tests/fields/test_field.py"}, {"test_code": "import pytest\nfrom markupsafe import Markup\nfrom wtforms import meta\nfrom wtforms import validators\nfrom wtforms.fields import Field\nfrom wtforms.fields import StringField\nfrom wtforms.form import Form\ndef test_post():\n    a = _init_field('p')\n    assert a.errors == ['Post']\n    stopped = _init_field('stop-post')\n    assert stopped.errors == ['stop with message', 'Post-stopped']\n\ntest_post()\n", "code_start": "", "test_path": "../srcdata/Network/wtforms/tests/fields/test_field.py"}], "instruction": "Functionality: The function _init_field is designed to initialize and validate a 'PrePostTestField', a customized StringField, with a given input value. This field has predefined validation rules and messages. It also includes pre- and post-validation methods to handle specific data cases.\n\nInputs: \n- value (str): The input string that is to be assigned to the 'PrePostTestField'. This field is expected to have a string input that may or may not trigger validation errors based on its content.\n\nOutputs: \n- Returns the initialized and validated PrePostTestField 'a'. If the validation fails for the input 'value', it will raise a ValidationError with a specific message. The 'PrePostTestField' object returned will contain the input value if it passes validation or the error message if it fails.", "method_code_mask": "import pytest\nfrom markupsafe import Markup\nfrom wtforms import meta\nfrom wtforms import validators\nfrom wtforms.fields import Field\nfrom wtforms.fields import StringField\nfrom wtforms.form import Form\n\n\nclass PrePostTestField(StringField):\n\n    def pre_validate(self, form):\n        if self.data == 'stoponly':\n            raise validators.StopValidation()\n        elif self.data.startswith('stop'):\n            raise validators.StopValidation('stop with message')\n\n    def post_validate(self, form, stopped):\n        if self.data == 'p':\n            raise validators.ValidationError('Post')\n        elif stopped and self.data == 'stop-post':\n            raise validators.ValidationError('Post-stopped')\n\n\ndef _init_field(value): [MASK]\n"}
